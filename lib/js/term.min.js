'use strict';window.tsfTerm=function(){const a="undefined"!=typeof tsfTermL10n&&tsfTermL10n,b="autodescription-meta[doctitle]",c="autodescription-meta[description]",d="autodescription-meta[og_title]",e="autodescription-meta[og_description]",f="autodescription-meta[tw_title]",g="autodescription-meta[tw_description]",h=()=>{const a=document.getElementById("autodescription-meta[noindex]");let b="",c=!0;const d=()=>{let a=document.getElementById("autodescription-meta[canonical]");a&&(b||=a.placeholder,a.placeholder=c?b:"")},e=b=>{let e="";switch(+b){case 0:e=a.dataset.defaultUnprotected;break;case-1:e="index";break;case 1:e="noindex";}c="noindex"!==e,d()};a.addEventListener("change",a=>e(a.target.value)),e(a.value)},i=()=>{const c=document.getElementById(b),d=document.getElementById("autodescription-meta[title_no_blog_name]");tsfTitle.setInputElement(c);let e=JSON.parse(document.getElementById(`tsf-title-data_${b}`).dataset.state);tsfTitle.updateStateOf(b,"allowReferenceChange",!e.refTitleLocked),tsfTitle.updateStateOf(b,"defaultTitle",e.defaultTitle.trim()),tsfTitle.updateStateOf(b,"addAdditions",e.addAdditions),tsfTitle.updateStateOf(b,"useSocialTagline",!!(e.useSocialTagline||!1)),tsfTitle.updateStateOf(b,"additionValue",e.additionValue.trim()),tsfTitle.updateStateOf(b,"additionPlacement",e.additionPlacement),tsfTitle.updateStateOf(b,"hasLegacy",!!(e.hasLegacy||!1));const f=tsf.escapeString(a.params.termPrefix);d&&(d.addEventListener("change",c=>{let d=tsfTitle.getStateOf(b,"addAdditions"),e=!c.target.checked;a.params.additionsForcedDisabled&&(e=!1),d!==e&&tsfTitle.updateStateOf(b,"addAdditions",e)}),d.dispatchEvent(new Event("change")));const g=a=>{a="string"==typeof a&&a.trim()||"";let c=tsfTitle.stripTitleTags?tsf.stripTags(a):a;c||=tsfTitle.untitledTitle;let d;d=tsf.l10n.states.isRTL?c+" "+f:f+" "+c,tsfTitle.updateStateOf(b,"defaultTitle",d)},h=document.querySelector("#edittag #name");h&&h.addEventListener("input",a=>g(a.target.value)),tsfTitle.enqueueUnregisteredInputTrigger(b)},j=()=>{let a=JSON.parse(document.getElementById("tsf-description-data_"+c).dataset.state);tsfDescription.setInputElement(document.getElementById(c)),tsfDescription.updateStateOf(c,"defaultDescription",a.defaultDescription.trim()),tsfDescription.updateStateOf(c,"hasLegacy",!!(a.hasLegacy||!1)),tsfDescription.enqueueUnregisteredInputTrigger(c)},k=()=>{let a=JSON.parse(document.getElementById(`tsf-og-title-data_${d}`).dataset.state),h=JSON.parse(document.getElementById(`tsf-tw-title-data_${f}`).dataset.state),i=JSON.parse(document.getElementById(`tsf-og-description-data_${e}`).dataset.state),j=JSON.parse(document.getElementById(`tsf-tw-description-data_${g}`).dataset.state);tsfSocial.updateState("useTagline",a.addAdditions),tsfSocial.updateState("ogTitleDefault",a.defaultTitle),tsfSocial.updateState("twTitleDefault",h.defaultTitle),tsfSocial.updateState("ogDescDefault",i.defaultDesc),tsfSocial.updateState("twDescDefault",j.defaultDesc),tsfSocial.initTitleInputs({ref:document.getElementById(`tsf-title-reference_${b}`),refNa:document.getElementById(`tsf-title-noadditions-reference_${b}`),meta:document.getElementById(b),og:document.getElementById(d),ogRef:document.getElementById(`tsf-og-title-reference_${d}`),tw:document.getElementById(f),twRef:document.getElementById(`tsf-tw-title-reference_${f}`)}),tsfSocial.initDescriptionInputs({ref:document.getElementById(`tsf-description-reference_${c}`),meta:document.getElementById(c),og:document.getElementById(e),ogRef:document.getElementById(`tsf-og-description-reference_${e}`),tw:document.getElementById(g),twRef:document.getElementById(`tsf-tw-description-reference_${g}`)})},l=()=>{h(),i(),j(),k()},m=()=>{};return Object.assign({load:()=>{document.body.addEventListener("tsf-onload",l),document.body.addEventListener("tsf-ready",m)}},{},{l10n:a})}(jQuery),window.tsfTerm.load();
