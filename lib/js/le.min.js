'use strict';window.tsfLe=function(){const a="undefined"!=typeof tsfLeL10n&&tsfLeL10n;let b;const c=()=>{clearTimeout(b),b=setTimeout(()=>{document.dispatchEvent(new Event("tsfLeUpdated"))},50)},d=()=>{tsfTT&&tsfTT.triggerReset()},e=a=>{let b,c=document.getElementById(`tsfLeData[${a}]`);try{b=JSON.parse(c.dataset.le)||void 0}catch(a){}if(!b)return;let d;for(let c in b)if(d=document.getElementById("autodescription-quick[%s]".replace("%s",c)),d)if(b[c].isSelect){tsf.selectByValue(d,b[c].value);let a=d.querySelector("[value=\"0\"]");a&&(a.innerHTML=a.innerHTML.replace("%s",tsf.decodeEntities(b[c].default)))}else d.value=tsf.decodeEntities(b[c].value)},f=a=>e(a),g=a=>{let b,c=document.getElementById(`tsfLePostData[${a}]`);try{b=JSON.parse(c.dataset.lePostData)||void 0}catch(a){}return b||{}},h=a=>{let b=(a.originalEvent||a).target,c=b.dataset.tsfTitleId,d=tsfTitle.getStateOf(c,"prefixValue"),e="",f="public";switch(f="keep_private"===b.name?b.checked?"private":"public":b.value&&b.value.length?"password":"public",f){case"password":e=tsfTitle.protectedPrefix;break;case"private":e=tsfTitle.privatePrefix;break;default:case"public":e="";}e!==d&&tsfTitle.updateStateOf(c,"prefixValue",e)},i=a=>{let b=(a.originalEvent||a).target,c=b.dataset.tsfTitleId,d="string"==typeof b.value&&b.value.trim()||"",e=tsfTitle.stripTitleTags?tsf.stripTags(d):d,f=tsfTitle.getStateOf(c,"defaultTitle"),g="string"==typeof b.dataset.termPrefix&&b.dataset.termPrefix.trim()||"";e=e||tsfTitle.untitledTitle,g.length&&(tsf.l10n.states.isRTL?e=e+" "+g:e=g+" "+e),e=tsf.escapeString(tsf.decodeEntities(e.trim())),e!==f&&tsfTitle.updateStateOf(c,"defaultTitle",e)},j=a=>{let b,c=document.getElementById(`tsfLeTitleData[${a}]`);try{b=JSON.parse(c.dataset.leTitle)||void 0}catch(a){}if(!b)return;const d="autodescription-quick[doctitle]",e=document.getElementById(d);tsfTitle.setInputElement(e),tsfTitle.updateStateOf(d,"allowReferenceChange",!b.refTitleLocked),tsfTitle.updateStateOf(d,"defaultTitle",b.defaultTitle.trim()),tsfTitle.updateStateOf(d,"addAdditions",b.addAdditions),tsfTitle.updateStateOf(d,"additionValue",b.additionValue.trim()),tsfTitle.updateStateOf(d,"additionPlacement",b.additionPlacement);let f=document.getElementById("edit-"+a);f&&(f.querySelectorAll("[name=post_password]").forEach(a=>{a.dataset.tsfTitleId=d,a.addEventListener("input",h),a.dispatchEvent(new CustomEvent("input"))}),f.querySelectorAll("[name=keep_private]").forEach(a=>{a.dataset.tsfTitleId=d,a.addEventListener("click",h),a.dispatchEvent(new CustomEvent("click"))}),f.querySelectorAll("[name=post_title]").forEach(b=>{b.dataset.tsfTitleId=d,g(a).isFront||(b.addEventListener("input",i),b.dispatchEvent(new CustomEvent("input")))}),f.querySelectorAll("[name=name]").forEach(a=>{a.dataset.tsfTitleId=d,a.dataset.termPrefix=b.termPrefix||"",a.addEventListener("input",i),a.dispatchEvent(new CustomEvent("input"))})),tsfTT.triggerReset()},k=a=>{let b,c=document.getElementById(`tsfLeDescriptionData[${a}]`);try{b=JSON.parse(c.dataset.leDescription)||void 0}catch(a){}if(b){let a="autodescription-quick[description]",c=document.getElementById(a);tsfDescription.setInputElement(c),tsfDescription.updateStateOf(a,"allowReferenceChange",!b.refDescriptionLocked),tsfDescription.updateStateOf(a,"defaultDescription",b.defaultDescription.trim()),tsfTT.triggerReset()}},l=()=>{document.addEventListener("tsfLeDispatchUpdate",c),document.addEventListener("tsfLeUpdated",d)},m=()=>{let a;if(window.inlineEditPost){var b;a=null===(b=window.inlineEditPost)||void 0===b?void 0:b.edit,a&&(window.inlineEditPost.edit=function(b){var c,d,f;let g=a.apply(this,arguments);return("object"==typeof b&&(b=null===(c=window.inlineEditPost)||void 0===c?void 0:c.getId(b)),!b)?g:(e(b),j(b),k(b),null===(d=window)||void 0===d||null===(f=d.tsfC)||void 0===f?void 0:f.resetCounterListener(),g)})}if(window.inlineEditTax){var c;a=null===(c=window.inlineEditTax)||void 0===c?void 0:c.edit,a&&(window.inlineEditTax.edit=function(b){var c,d,e;let g=a.apply(this,arguments);return("object"==typeof b&&(b=null===(c=window.inlineEditTax)||void 0===c?void 0:c.getId(b)),!b)?g:(f(b),j(b),k(b),null===(d=window)||void 0===d||null===(e=d.tsfC)||void 0===e?void 0:e.resetCounterListener(),g)})}};return Object.assign({load:()=>{document.body.addEventListener("tsf-onload",l),document.body.addEventListener("tsf-onload",m)}},{},{l10n:a})}(jQuery),window.tsfLe.load();
