'use strict';window.tsfSocial=function(){const a="undefined"!=typeof tsfSocialL10n&&tsfSocialL10n;let b={ogDescDefault:a.states.placeholders.ogDesc,twDescDefault:a.states.placeholders.twDesc};const c=a=>a?a in b?b[a]:void 0:b;return Object.assign({load:()=>{}},{initTitleInputs:c=>{let d=c.og,e=c.tw,f=c.ref,g=c.refNa,h=c.meta;if(!d||!e||!f||!g||!h)return;let i=a.params.homeLocks.ogTitleLock,j=a.params.homeLocks.ogTitlePHLock,k=a.params.homeLocks.twTitleLock,l=a.params.homeLocks.twTitlePHLock,m=i?b.ogTitleDefault:d.value,n=k?b.twTitleDefault:e.value,o=g.innerHTML,p=f.innerHTML;const q=a=>{let c="";switchActive:switch(a){case"twitter":if(c=n,k||l){c=c.length?c:b.twTitleDefault;break switchActive}case"og":if(c=c.length?c:m,i||j){c=c.length?c:b.ogTitleDefault;break switchActive}case"meta":case"ref":c.length||(tsfTitle.getStateOf(h.id,"useSocialTagline")?c=p:c=o);}return c},r=()=>{d.placeholder=i||j?tsf.decodeEntities(b.ogTitleDefault):tsf.decodeEntities(q("meta")),e.placeholder=k||l?tsf.decodeEntities(b.twTitleDefault):tsf.decodeEntities(q("og"))},s=(a,b,c)=>{let d=document.getElementById(a.id+"_chars");d&&tsfC.updateCharacterCounter({e:d,text:b,field:"title",type:c})};let t;const u=()=>{clearTimeout(t),t=setTimeout(()=>{s(d,q("og"),"opengraph"),s(e,q("twitter"),"twitter")},1e3/60)};let v;const w=()=>{clearTimeout(v),v=setTimeout(()=>{p=f.innerHTML,o=g.innerHTML,r(),u()},1e3/60)};f.addEventListener("change",w),g.addEventListener("change",w);d.addEventListener("input",a=>{if(!i){let b=a.target.value.trim();m=b.length?tsf.sDoubleSpace(b):""}r(),u()}),e.addEventListener("input",a=>{if(!k){let b=a.target.value.trim();n=b.length?tsf.sDoubleSpace(b):""}r(),u()})},initDescriptionInputs:c=>{let d=c.og,e=c.tw,f=c.ref,g=c.meta;if(!d||!e||!f||!g)return;let h=a.params.homeLocks.ogDescriptionLock,i=a.params.homeLocks.ogDescriptionPHLock,j=a.params.homeLocks.twDescriptionLock,k=a.params.homeLocks.twDescriptionPHLock,l=h?b.ogDescDefault:d.value,m=j?b.twDescDefault:e.value,n=f.innerHTML;const o=(a,c)=>{let d="";switchActive:switch(a){case"twitter":if(d=m,j||k){d=d.length?d:b.twDescDefault;break switchActive}case"og":if(d=d.length?d:l,h||i){d=d.length?d:b.ogDescDefault;break switchActive}case"meta":d.length||g.value.length||("twitter"===c?d=b.twDescDefault:"og"==c&&(d=b.ogDescDefault));case"ref":d=d.length?d:n;}return d},p=()=>{d.placeholder=h||i?tsf.decodeEntities(b.ogDescDefault):tsf.decodeEntities(o("meta","og")),e.placeholder=j||k?tsf.decodeEntities(b.twDescDefault):tsf.decodeEntities(o("og","twitter"))},q=(a,b,c)=>{let d=document.getElementById(a.id+"_chars");d&&tsfC.updateCharacterCounter({e:d,text:b,field:"description",type:c})};let r=0;const s=()=>{clearTimeout(r),r=setTimeout(()=>{q(d,o("og","og"),"opengraph"),q(e,o("twitter","twitter"),"twitter")},1e3/60)};f.addEventListener("change",()=>{n=f.innerHTML,p(),s()});d.addEventListener("input",a=>{if(!h){let b=a.target.value.trim();l=b.length?tsf.sDoubleSpace(b):""}p(),s()}),e.addEventListener("input",a=>{if(!j){let b=a.target.value.trim();m=b.length?tsf.sDoubleSpace(b):""}p(),s()})},getState:c,updateState:(a,c)=>{switch(b[a]=c,a){case"useTagline":break;case"ogTitleDefault":case"twTitleDefault":case"ogDescDefault":case"twDescDefault":break;default:}}},{l10n:a})}(jQuery),window.tsfSocial.load();
