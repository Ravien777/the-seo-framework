=== The SEO Framework â€“ Fast, Automated, Effortless. ===
Contributors: Cybr
Donate link: https://github.com/sponsors/sybrew
Tags: seo, xml sitemap, google search, open graph, schema.org, twitter card, performance, headless
Requires at least: 5.9
Tested up to: 6.3
Requires PHP: 7.4.0
Stable tag: 4.2.8
License: GPLv3
License URI: http://www.gnu.org/licenses/gpl-3.0.html

The fastest feature-complete SEO plugin for professional WordPress websites. Secure, fast, automated, and ethical SEO. Do less; get better results.

== Description ==

**The fastest and only feature-complete SEO plugin that follows the guidelines and rules imposed by WordPress and search engines.**

Start using proven methods to optimize your website for SEO. Clean, dedicated, extensible, unrestricted, ad-free, and no strings attached.

To top it off, this is the [fastest full-featured SEO plugin](https://twitter.com/TheSEOFramework/status/1493352649445580804/photo/1), and it blends right into your WordPress website, without leaving you in the dark.

It's easy to get started. Activate this plugin, and your site's instantly protected against prominent SEO attacks. The SEO Framework will also prefill all critical meta tags for you. A real time-saver. Ingenious.

[Migrate](https://theseoframework.com/?p=511) | [Setup](https://theseoframework.com/?p=2428) | [Improve](https://theseoframework.com/?p=2663) | [Extensions](https://theseoframework.com/extensions/) | [API](https://theseoframework.com/?p=82) | [Support](https://theseoframework.com/?p=3478) | [Privacy](https://theseoframework.com/?p=1701#pluginprivacyinformation)

= We poured over 25&#160;000 hours into this plugin. Here are the results: =

* **It is brilliant.**
The SEO Framework is an [expert system](https://en.wikipedia.org/wiki/Expert_system) for SEO. It is the only solution that can intelligently generate critical SEO meta tags in any language by reading your WordPress environment. This automation saves you a considerable amount of time that could be used to write more content or focus on other tasks. It also removes the need for advanced SEO knowledge.

* **It comes preconfigured.**
With The SEO Framework, we provide an excellent starting point for your website by rationally optimizing all your pages. Naturally, you can also tweak it however you like. If you're not an SEO expert, learn what you may wish to optimize in our [Setup guide](https://theseoframework.com/?p=2428).

* **It helps you optimize your metadata.**
We made the only SEO plugin that follows Google's webmaster guidelines to the letter. It took years of research and tweaking to translate this well inside your WordPress interface. Finally, you can freely optimize your pages without having to worry about making critical mistakes.

* **It creates a beautiful overview.**
On your post overview pages, you'll find color-coded guidelines. They suggest how to improve your pages as you hover over them with your mouse cursor. For example, when your titles are unbranded or when WordPress blocks indexing. Instinctively, touch-and keyboard navigation is also supported.

* **It includes exceptional support.**
We don't outsource our support. We're here for you. Feel free to drop by [our support forums](https://wordpress.org/support/plugin/autodescription/) at any time to ask a question. More than 1400 inquiries have been answered personally, typically within 48 hours in the past five years.

* **It leaves no room for errors.**
We focus on the quality of features you need over the quantity on features you don't. This trait makes this plugin unique, faster, more accurate, nearly bug-free, and more sustainable. The added benefit is that your site is unlikely to get penalized by search engines. We won't steer you into writing unnatural content or allow you to trick search engines.

* **It remains genuine and pure.**
We built The SEO Framework for small to large corporations and enterprises. The interface is entirely accessible and seamlessly integrates within your dashboard. Therefore, interacting with this plugin feels natural. It might feel dull, but your WordPress dashboard shouldn't be a billboard for our branding. We won't ever change this.

* **It improves search presence.**
The SEO Framework ranks your website distinctively by enabling breadcrumbs for Google Search, and by automatically generating titles and descriptions according to Google's guidelines. It also notifies Google, Bing, and all connected search networks automatically of your website's changes with its built-in sitemap.

* **It makes social sharing easy.**
The SEO Framework automatically supports and allows you to further tailor the Open Graph, Facebook, and Twitter Cards protocols. It helps your posts stand out when they're shared on various social networks, including Pinterest, Discord, and Whatsapp.

* **It feels more than accessible.**
We handpicked our color scheme so that people with any medically recognized color-vision deficiency can distinguish the guidelines set by search engines. We also implemented full keyboard-navigation and screen-reader support.

* **It protects you from mistakes.**
The SEO Framework steers you from making significant and common SEO mistakes. It leaves little room for you to mess up because the plugin already does everything SEO for you. For example, it automatically prevents duplicated content mistakes by enforcing strict canonical rules.

* **It follows best-practices and beyond.**
The biggest problems with WordPress plugins are security and compatibility. As part-time security researchers, we focus on making this plugin impenetrable. The SEO Framework also uses WordPress's API whenever possible, making this plugin integrate neatly with every other plugin written with that in mind.

* **It has developers at heart.**
We encourage other developers to enhance and add functionality to this plugin. We've done so ourselves, already, with our [extensions](https://theseoframework.com/extensions/). Check out [our API](https://theseoframework.com/?p=82), and feel free to [contribute](https://tsf.fyi/contributing)!

* **It respects your privacy.**
The SEO Framework sends us no information and does not create cookies. Learn more from our strictly adhered-to [privacy policy](https://theseoframework.com/?p=1701#pluginprivacyinformation).

= Getting started =

* Used another plugin? Easily [migrate your SEO data](https://theseoframework.com/?p=511).
* Need a helping hand getting started? Read our [quick setup guide](https://theseoframework.com/?p=2428).
* Want to improve your pages? Learn how to [optimize your metadata](https://theseoframework.com/?p=2663).

= Do more with extensions =

For additional functionality, check out our free companion plugin [Extension Manager](https://theseoframework.com/?p=2760). It provides numerous free and paid extensions, such as:

* [Focus](https://theseoframework.com/?p=2305) guides you through the process of writing targeted content that ranks with **focus keywords and synonyms**.
* [Articles](https://theseoframework.com/?p=2303) **enhances your published posts** by automatically adding important Structured Data.
* [Transport](https://theseoframework.com/?p=3962) **migrates and transforms metadata** from Rank Math, Yoast SEO, and SEOPress to this plugin.
* [Honeypot](https://theseoframework.com/?p=2300) **catches comment spammers** through four lightweight yet powerful ways.
* [Cord](https://theseoframework.com/?p=3404) helps you connect your website to **Google Analytics and Meta Pixel**.
* [Local](https://theseoframework.com/?p=2306) lets you set up **important local business information** for search engines to consume.
* [AMP](https://theseoframework.com/?p=2304) **binds The SEO Framework to the AMP plugin** for AMP supported articles and pages.
* [Monitor](https://theseoframework.com/?p=2302) **keeps track of your website's SEO** optimizations and statistics.
* [Incognito](https://theseoframework.com/?p=2301) **hides all development-comments** from The SEO Framework.
* [Origin](https://theseoframework.com/?p=2299) **redirects attachment-page visitors** back to the parent post.
* [Title Fix](https://theseoframework.com/?p=2298) makes sure your **title output is as configured**. Even if your theme is doing it wrong.

Visit our [extensions overview page](https://theseoframework.com/extensions/) for more information.

= Unbranded, free and for the professionals =

The SEO Framework is a uniquely white label plugin that blends seamlessly into your WordPress dashboard. This means that we don't even put the name "The SEO Framework" anywhere within your WordPress interface. No ads, no nags. Nobody has to know about the tools you've used to create your website. Note that we output standardized development-comments distinguishing the plugin output in source code. You can remove these with our free [Incognito extension](https://theseoframework.com/?p=2301).

= Behind the screens =

The SEO Framework works on many things without notifying you, because the best software is fast, nimble, responsive, and should save you precious time. Here are a few things it does behind the screens.

* It prevents canonical errors for categories, pages, subdomains, and WordPress Multisite domain mapping.
* It stops SEO attacks that are caused by pagination exploits in WordPress by telling the search engine to look at the existing last page instead.
* It discourages 404 pages and empty categories from being indexed, even when they don't send a 404 response.
* It automatically notifies Google and the Bing network on website updates when sitemaps are enabled.
* It discourages search engines from indexing feeds and the sitemap. This doesn't mean they won't use them; only, they won't show them in their search results.
* It directs search engines from the comment pages back to the post storing those comments.

= Compatibility =

**The SEO Framework supports:**

* PHP 7.4 and higher.
* WordPress 5.9 and higher.
* Internationalization through WordPress.org.
* Unicode (UTF-8) character recognition and rendering, including Emoji and CJKV (Chinese, Japanese, Korean, Vietnamese).
* Right to Left (RTL) languages (Arabic, Hebrew, Farsi, et al.), through its interface and metatag generation.
* Complete color-vision deficiency accessibility thanks to a carefully picked color scheme.
* Full keyboard navigation, so that you can inspect tooltips quickly without ever having to reach for your mouse.
* Full screen-reader accessibility via field anchors, ARIA labels, and title attributes.
* WordPress Multisite setups, this plugin is in fact built upon one.
* Detection and output of robots.txt and sitemap.xml files.
* Full integration with WordPress Core sitemaps.
* Output of structured data via Schema.org JSON-LD scripts.
* Altering oEmbed for improved sharing on Discord.
* Detection of various other SEO tools to help you switch graciously.
* Translation plugins like WPML, Polylang, WPGlobus, and MultilingualPress.
* E-commerce plugins like WooCommerce and Easy Digital Downloads.
* Forum plugins like bbPress and wpForo.
* Editing posts and terms via WordPress's native bulk-and-quick-edit interfaces.
* Headless mode via a single [constant definition](https://kb.theseoframework.com/?p=136).

= Copyright legislation notice =

In a few words: The SEO Framework allows search engines to do what they've been doing for the past 20 years via its preconfigured copyright settings.

When you activate The SEO Framework on any site, you automatically grant rights to content aggregators, among Google, Bing, and Yandex, to obtain and use information from the site, including written work, images, audio, and video. You can control these rights via the robots-meta settings brought by this plugin. Your rights and the effectiveness of these settings are subject to your website's region and language, and the physical or virtual origin of the platform and their potential users through which your website's information is obtained and shared. It is up to the aggregator to honor your rights and the requests brought via The SEO Framework.

If you wish to learn more, please refer to the [EU commission on copyright](https://ec.europa.eu/digital-single-market/en/modernisation-eu-copyright-rules). These rulings may propagate its effects through regions outside the EU.

== Installation ==

= This plugin requires: =

* PHP 7.4 or higher.
* WordPress 5.9 or higher.
* Any modern browser for administration.

= Installation instructions: =

1. Install **The SEO Framework** either via your WordPress dashboard using plugin search or by uploading the files to your server.
1. Either network-activate this plugin or activate it on a single site.
1. That's it! The plugin now optimizes your website for SEO. It also protects your website against SEO attacks.

= This plugin auto-configures its global settings =

However, it would be best if you read up on our [plugin setup guide](https://theseoframework.com/?p=2428) to get the most out of The SEO Framework.

= This plugin auto-configures SEO meta settings =

However, you may want to read up on our [page improvement guide](https://theseoframework.com/?p=2663) to learn how you can optimize your pages.

= Get more SEO power =

Optionally, also install our free [Extension Manager](https://theseoframework.com/?p=2760) plugin for additional SEO solutions.

== Screenshots ==

1. The SEO Framework shows you how your site is performing, at a glance. These are what we call the SEO Bar.
2. Hover over, tap on, or focus any SEO Bar item and it will tell you what's asserted from your environment.
3. The SEO meta box is displayed on all pages. It's everything you need. Here you can see the pixel counters.
4. These SEO settings are shown on the term edit screen. It seamlessly blends into your WordPress interface.
5. The SEO settings page of The SEO Framework. Every setting is explained thoroughly. You're in full control.

== Frequently Asked Questions ==

= Is The SEO Framework free? =

Absolutely! It will stay free as well, without ads, tracking, bloat, or nags!
This plugin is slim yet all-inclusive. It's 100% freeware, not crippleware.

= Is there a premium version? =

No. We treat this plugin as a premium plugin already.

However, we do offer many free and paid extensions that help support this free plugin. We provide these via our free [Extension Manager plugin](https://theseoframework.com/?p=2760).

= Why is there no analytics, tracking, or 404 monitoring? =

SEO experts that use advanced tools such as Ahrefs, SEMrush, Screaming Frog, and Google Analytics prefer using The SEO Framework because it doesn't try to do their job haphazardly.

To correctly analyze your website, it must be done from the outside. If we load these features on your site, bad robots will cause thousands of false positives that fill your database with useless information that doesn't apply to search engines. We refrain from this because it won't ever help you anyway.

= I have a feature request, a question, or found a bug. =

Please visit [the support forums](https://wordpress.org/support/plugin/autodescription) and kindly tell us about it.

We'll try to get back to you within a week. Typically, we reply within three days.

= I am a developer; how can I help? =

Any input is much appreciated, and everything will be considered.
Please visit the [GitHub project page](https://github.com/sybrew/the-seo-framework) to submit issues or even pull requests.

Learn more [about contributing](https://tsf.fyi/contributing).

= What do the colors tell me? =

We use different colors to convey messages. Red is an error that you must resolve. Yellow is a non-critical warning that you may want to address. Green is good. Blue is informational and situational. Gray is undefined or unprocessable.

= The sitemap doesn't contain categories, images, et al. =

Not having every single page listed is not an issue. Search engines love crawling WordPress because its structure is consistent and well known.

If a visitor can't find a page, then why would a search engine? Don't rely on your sitemap, but on your content and website's usability.

Check out our [Extension Manager](https://theseoframework.com/?p=2760). It brings extensions, like [Articles](https://theseoframework.com/?p=2303), that fill in the gaps via modern and more robust means.

= The sitemap contains unwanted links. =

The SEO Framework takes all publicly queryable posts, pages, and CPT and puts them in the sitemap.

If you don't want a page in the sitemap, consider enabling the `noindex` option for it. This option will also remove the page from search engine result pages.

If the link shouldn't be in the sitemap because it's meant for structural reasons, then inform the plugin or theme author that created them.
You should tell the author to check out the "`public` and `rewrite` post type arguments." The plugin or theme author should know what that means.

In the meantime, you can disable SEO for the unwanted entries via the "General SEO Settings" under "Exclusions."

= Why aren't focus keywords included? =

[Google warns](https://developers.google.com/search/docs/advanced/guidelines/irrelevant-keywords) about the keyword stuffing approach implemented by some other SEO plugins. It forces users to write unnatural content, and it can have adverse effects on your site's ranking.

Modern search engines use AI to understand the context of your articles. This means that as long as you write relevant content, you shouldn't have to worry about keywords.

However, we implemented the same API Google uses to help you find appropriate synonyms and inflections for your keywords. This functionality is part of our premium suite of extensions.

= What do the application/ld+json scripts do? =

The JSON-LD scripts are search engine helpers that tell search engines how to connect and index the site. We do this via the Schema.org standard.

They can tell the search engine if your site contains an internal search engine, which social sites you're connected to, and what page structure you're using. This is also referred to as **structured data**.

= I don't see the breadcrumbs! =

The SEO Framework does not provide the display of breadcrumbs. This is theme-territory. This plugin only annotates them for search engines via a JSON-LD script.

If you wish to display breadcrumbs, then your theme should provide this. Alternatively, there are [other plugins](https://wordpress.org/plugins/search/breadcrumbs/) that help you do this.

== Changelog ==

TODO mark that db version 4270 -> 4300+

TODO When filling in the Meta Description for the homepage as page, the generated Social titles aren't locked to that on the SEO Settings page.
	-> Consider that overriding the homepage description, the generated social inputs should be unlocked, unless one is filled in via the homepage page-settings.
	-> Does this affect the title as well? Test this.

TODO add toggle for homepage settings where each "language" installed can be altered accordingly.
	-> This requires probably a whole lot more work than I'd have hoped.
	-> This can go wrong if the default language changes, or disappears.
		-> But, this is effectively the same issue we have with Custom Post Type Archives.
			-> Speaking of which, we should also have another of such a switcher for those... ugh.
	-> If we consider this, always have primary site language setting, and store sublanguages under another index.
		-> This will cause issues if the main language changes?
TODO check mail Dean about WPML config

TODO add bespoke support for Events Calendar?
	-> Basically, we need to overwrite the separator
		-> We can do this via WordPress document title filters.
	-> We need to recognize that their "archives" isn't an archive, so we should remove the prefix.
		-> Simple.

TODO implement "@hook wp_action" in every function with a callback.
	-> If something is a callback of a hook AND something else, we may want to depict that differently?
		E.g.: @hook ~ wp_action
	-> Then, we can remove unused variables (often tagged with "Unused.").

TODO all "s_" methods are a mixed bag of:
	1. Option filters without default fallback.
	2. Option filters with default fallback. (get_default_option)
	3. Option filters with current AND default fallback. (get_option, get_default_option)
	4. Non-option filters.
-> We should overhaul this in a major update?
	-> Or, do it now? We're the only ones making thorough use of this, and assume a default only for selectable options.
		-> Therefore, we can safely assume no one falls back to the default for "text"-based options, which is often what users filter.

TODO the detect.*?plugins() functions use a foreach loop and then in_array() -- this can be slow, consider array_intersect instead?
	-> Test performance.

TODO DONE (still check assigments below): make 4.3.0 instead of 4.2.9?
	-> This way we can push through large API changes, clean up soon-to-be-deprecations, sanitizations, etc.
	-> We can also add Twitter Card type to every post
	-> We can also justify major change for Title/Description output.
	-> And we can justify jumping to PHP 7.3, so we can start using hrtime instead of microtime.

TODO since the sitemap loads so early now, can we get rid of clean_up_globals()?
	-> Test with 50 plugins and some "premium theme" active, and see if they slip through.

TODO two new classes:
	1. Option_Filter (See below "Four new classes")
		-> Maintain index of all options to be sanitized.
			-> Load early, so we can sanitize whatever tries to update the option.
		-> Should work with class "Option"?
			-> Falls back to default on failure for every option?
				-> How do we determine failure? Out of range?
		-> Relays to Sanitize
	2. Sanitize
	TODO Or The_SEO_Framework\Security?
		1. The_SEO_Framework\Security\Input
			Or \Sanitize
		2. The_SEO_Framework\Security\Output
			Or \Escape
TODO Four new classes:
	0. The_SEO_Framework\Data\
		1. Options
			x. \Filter
				Or \Validate
			-> See Sanitize above?
		2. User_Options
		3. Post_Data
		4. Term_Data

TODO Move views\edit to something less ambiguous and confusing:
	-> Views\Terms
	-> Views\Posts

TODO add summary_large_image/summary toggle on a per-page basis
	- Namely this affects how the image is displayed in both Twitter AND Discord.
	- Also make twitter card default to summary when a square image is posted.
		- Only when set to "auto"
	- See https://github.com/sybrew/the-seo-framework/issues/525

TODO highlight in large changes:
	* Color scheme works again for tooltips.
	* Issue with caching plugins and WordPress Core vulnerability yet unresolved?
		* https://wordpress.org/support/topic/meta-block-sometimes-not-inserted/.
		* https://github.com/WordPress/WordPress-Coding-Standards/issues/2217.
		* Also notify Nik via email?
	* Multisite support for author SEO fields.

TODO add "disable JIT compiler" option to Description generator?
	- It'll remove some restrictions in PHP at the expense of performance (4x slower, effectively 0.75ms extra load time, so 5% slower overall?)
		* https://wordpress.org/support/topic/no-meta-description-for-long-posts/

TODO around the SEO Bar, make it a grid (expensive?) or add a container that eagerly collapses every 2 or 3 items, instead of one-by-one.
	* Make the subitems collapsible, too -- but less eager.

TODO distraction-free SEO Bar pallet (CSS media prefers-contrast:less?):
	.tsf-seo-bar-bad {
		background-color: #d14343;
	}
	.tsf-seo-bar-okay {
		background-color: #e2c08d;
	}
	.tsf-seo-bar-good {
		background-color: #36b37e;
	}
	.tsf-seo-bar-unknown {
		background-color: #6886c5;
	}
	.tsf-seo-bar-undefined {
		background-color: #9e9e9e;
	}
TODO ALT:
	.tsf-seo-bar-bad {
		background-color: #d15943;
	}
	.tsf-seo-bar-okay {
		background-color: #e2c162;
	}

TODO deprecate and rename get_excerpt_by_id / fetch_excerpt

TODO clear old deprecations?

TODO 'show-if-tsf-js'
	-> Use this to show a "Something went wrong, counters won't load" banner.
		-> "Your site experienced a fatal error."
			-> If current_user_can install plugins, add "You may have received an automated notification email about this. Otherwise, check the PHP error logs for details."

TODO update doc "actions" (also update doc "constants" for TSFEM)

TODO get_generated_title() uses s_title_raw while get_custom_field_title() doesn't. Why?
		-> Probably because we apply s_title_raw before we store the data.
	TODO Particularily of concern is that this happens AFTER the branding etc.

If we go through with 4.3.0, consider removing deprecated filters (filters_deprecated)

TODO add vertical expand title input?
	-> This helps with Gutenberg's atrocious sidebar.

TODO remove every case of wp_parse_args()?
	-> It's bad practise over array_merge(), since it juggles types.

TODO add performance timer next to every Performance setting?
	-> Perform a simple site query and see what the impact is?
		-> Do not do this automatically! This may hamper someone's ability to even change this setting.
		-> Add a fancy button instead, which tests both settings at once?

TODO at "Schema.org Settings", we say "Enable...", "Enable..." and then "Output...".
	-> Use "Output" for anythign that outputs code, and "Enable" for a feature that adjusts already outputted code?
TODO Searchbox -> Search box

TODO test if TSF breadcrumbs are still gone from WC products

TODO when setting primary term in bulk edit, make sure that the post has at least 2 terms attached.
	(why isn't this listed as a feature neither on our pricing page nor this page at all??)
		-> Now I understand why people think the plugin doesn't support it :/

TODO highlight user-edit for multisite? It's quite a feat (user_has_author_info_cap_on_network et al.)
	-> We may want to add "is indexable" on a per-site basis.
		-> Or, otherwise, allow all authors to be indexed on the site.
			"Allow indexing of author pages that have no posts." with a warning.

TODO filters *_plugin_detected only turn ONE conflicting plugin, instead of the lot.
	-> Deprecate and rewrite?

TODO deprecate the_seo_framework_conflicting_plugins_type, it adds complexity and negates filter the_seo_framework_conflicting_plugins.
TODO test all compat files.

TODO what about get_image_dimensions()
	-> Are we going to move this to a new generator class?
		-> If so, we can remove the deprecation altogether.

TODO remove inc\classes\builders\sitemap.class.php
TODO mark update_settings as private?
TODO cache_json_data makes no sense.

TODO remove $use_cache support in get_option(), but have its cache be updated dynamically instead?
	-> This may require us to work with traits, which is perfect.
	-> See Extensions_Options_Cache / Extension_Options

TODO remove leftover var_dump()

TODO deprecate all filters in the generator pools.
	-> Suggest using the_seo_framework_meta_render_data instead.

TODO if Open Graph is disabled, but still has data, will Twitter Card still fall back to that data?
	-> If so... ugh. Should we even bother; does the JS already consider this? No one reported this as an issue.

TODO announce that integers are no longer supported for `$args` in all methods that use `fix_generation_args`
	* Also list all methods affected.

TODO see todo's in has_custom_canonical_url and get_canonical_url
TODO list all methods available in every pool? Zzz.

TODO move "Facebook" to "Open Graph", and purge fb:app_id?

TODO purge "@since 4.2.0 Deprecated"

TODO move clamp_sentence to something more sensible?
	-> Utils acts as a drop-in for what PHP is lacking in their SPL.
	-> To be fair, clamp_sentence would be a useful addition to native PHP.

TODO _init_locale only on admin?
	-> There's no translatable text on the front-end left, no?
		-> There should be an issue for this.

TODO why is "autodescription_title_no_blogname" always checked on the homepage?

TODO we deprecated Builders\Images, but have yet to write docs.

TODO eradicate all static::$tsf-> calls by the end of this dev cycle.

TODO eradicate get_defined_vars() or array unpacking where we can use func_get_args()
	-> https://3v4l.org/TjjDK
	-> https://3v4l.org/HYBT8

// Lacking imports:
^<\?php([\w\W](?!use (\\The_SEO_Framework\\(Helper|Data|Meta)\\\{).*;))*?(^(.(?!\*|\/\/))*?\\The_SEO_Framework\\.*?::)(.(?!\/\/ Lacking import OK.))*$
// Lacking import OK.
^ not robust enough

TODO Remove "// Lacking import OK." before release -- this is only necessary to filter in bulk for now.

// Lacking Data import:
^<\?php([\w\W](?!(use\s|\t)(\\The_SEO_Framework\\Data)))*?(^(.(?!\*|\/\/))*?Data\\[A-Za-z_\\]*::)

// Lacking header:
^<\?php([\w\W](?!defined))*?(The SEO Framework plugin)

// Lacking deprecation comment:
\/\*\*([\w\W](?!deprecated))*?(public function)
\/\*\*([\w\W](?!deprecated))*?(apply_filters_deprecated)

// Lacking deprecation notice:
function.*?\{([\w\W](?!tsf\(\)))*?\}

// Mismatch deprecation notices:
function (.*?)\(([\w\W](?!\1))*?\}

// Replace tsf()->_deprecated.*\ntsf()-> with $tsf->
1. (^.*?)\\tsf\(\)->(_deprecated.*$\n)(.*?return )\\tsf\(\)->
2. \n$1$$tsf = \\tsf();\n$1$$tsf->$2\n$3$tsf->

// Extract function names (by removing everything else)
1. Strip: ^([\w\W](?!_deprecated_function))*?$
2. Extract:
	1. With alternatives
		1. ^.*?\( '(.*?)',.*?, '(.*?)'.*\n+
		2. * `$1`, use `$2` instead.\n
	2. without alternatives:
		1. ^.*?\( '(.*?)'.*\n+
		2. * `$1`, with no alternative available.\n
	- remove leftover tsf() from start:
		1. \* `tsf\(\)->
		2. * `

// Find broken replacements
^(?!use|namespace|\s*\t*\*)(.(?!@|Class|new|'))*?[_A-Za-z\\]*The_SEO_Framework\\(?!has_run|ROBOTS|_|Utils)([^:{](?! as ))*$

TODO find mismatch memo ?? umemo (notice extra u)
TODO remove 3+ @since in Deprecated.class to reduce filesize.

TODO remove unusued Utils\normalize_generation_args imports (and other imports..)
TODO find new public function and filters via @since 4.3.0.*?...
TODO find repeated tsf() calls in functions.
TODO mark subroutine methods in Meta private?

TODO "Note: The input value of this field may be used to describe the name of the site elsewhere."
	-> Tell that it should be the brand name?

TODO regenerate deprecations in readme below. We may have changed some things.
	-> Also name all subpools.

TODO tell the user to "expect bugs" but "we're working resolving any report asap".

TODO figure out if "@id" => "" is a bad thing for breadcrumbs on noindexed pages.

TODO update "https://kb.theseoframework.com/kb/data-stored-in-your-database/".

TODO convert null === $args to isset( $args ) and switch conditions?
	-> This is tedious (29+ instances)
	-> 3~7% faster though https://3v4l.org/p9CMP.
		-> probably is because we do not need to create a null object every time.

TODO These are better names for filters. Use these throughout and deprecate the rest?
	-> It'll finally save me a naming headache.
	1. the_seo_framework_custom_image_details
	1. the_seo_framework_generated_image_details
	-> Candidates:
		1. the_seo_framework_custom_field_description -> the_seo_framework_custom_description
		1. the_seo_framework_title_from_custom_field -> the_seo_framework_custom_title
		1. the_seo_framework_title_from_generation -> the_seo_framework_generated_title

TODO test generate_shortlink_url() and URL pagination with multilingual plugins and other odd queries (wpforo et al.) and URL fragments (are there plugins that add these?).
	-> find via wpdirectory.

TODO use post_password_required()
	-> However, this initially relies on $post->post_password -- with this set, we must assume the post isn't publicly available, thus create zero content.

TODO make this 5.0?
	-> Then shift the design refresh to 6.0, might as well.

TODO rename "get_meta()" in robots to something more coherent, like get_cached_robots_meta_value()
	-> Also, rename all functions to contain their data type in them, this is then consistent with all other Factory classes.
		-> generate_meta() would become get_generated_robots_meta()

TODO apply_filters_ref_array() should now be slower than apply_filters(), no?
	-> This is because we have to generate an array first.
		-> Test with 2, 3, 4, and 5 arguments.

TODO if we add a new "enable Schema.org output" support button (because it's now always outputting something), we should enable it only if the user has any of the 3 toggles enabled.
	* Or, for new users, always enabled it.

TODO test fresh site.
TODO test site without images (or where images are gone).

TODO instead of .min.js and .min.js, do /min/x.js?
	-> This only helps me; whom, well... is spending most time on the project.

TODO can we bust the cache via a JS script if we detect an older version is being requested?
	-> E.g., we flag "expected version" to each script. If it's a mismatch, bust it?

TODO change folder builders/sitemap to
	-> sitemap
		-> optimized
		-> core

TODO deprecate the_seo_framework_fetched_description_excerpt.

TODO add support for get_shortlink_url( $args )
	-> Also add input field per post, so users can overwrite it on a per-post basis.
		-> We could use this well for tsf.fyi.

TODO test product structured data.
	-> Also on product categories and product search.

TODO test attachment pages' breadcrumb (and image data etc.).

TODO Remove s_url_query(), exchange for sanitize_url()?

TODO schema.org wbesite logo example doesn't reflect actual output...
	-> Also, we can remove the ID requirement. See https://github.com/sybrew/the-seo-framework/issues/646

TODO in transport, we have a mechanism to capture and cache the last term/post fetched.
	-> This prevents expensive cleaning via WP.
	-> Can we do this for the Data/Post and Data/Term objects?
		-> We could use umemo( __CLASS__ . "+$post_id" )

TODO we added `uid`. We may want to rename `taxonomy` to `tax`--making it easier to read.
	-> normalize_generator_args() can swap the name.

TODO Helper/query
	-> Query?
		-> cache
		-> utils
TODO Helper/Taxonomies
	-> Helper/Taxonomy
TODO Helper/Post_Types
	-> Helper/PostType

TODO we MUST add a new option for Schema.org
	-> Shall we add subsequent toggles, for each type?
		-> Shall we add more input fields for the user to tweak?
			-> Shall we make a single overview, isntead of making it tabular?
				-> And then, shall we make the URL input fields incremental, and collapse all stored URL fields that exist into them?

TODO when loading Gutenberg, the title is prefilled with "Untitled" -- is this intentional?
	-> It looks jarring on a slow connection.

TODO add robots.txt editor
	-> Also move the callback to a new class.
	-> Add this as an extension instead?

TODO remove tsf()->loaded?
	-> At least, write a constant?

TODO add trailing commas on all multi-line code (about 100 instances, so it's fine)

**Detailed log**

**For everyone:**

* **Added:**
	* **Structured data:**
		* The Schema.org structured data generator has been upgraded to output graphs instead of simple, separated scripts.
			* The way we've implemented it is faster and robust than ever before, and it finally allows for rapid implementation for new types. This also means that we had to abandon all filters (see the developer notes far below).
		* We reintroduced the connected social networks interface for Schema.org.
			* We still do not believe this is helpful for ranking. However, there's little harm done in having it.
		* Schema.org/WebSite is now added to every page.
			* Schema.org/organization is added to this if the site represents an organization.
			* Schema.org/person is added to this if the site represents a person.
		* Schema.org/WebPage is now added to every page but 404. TODO confirm
			* Schema.org/BreadcrumbList is added to this.
			* Schema.org/Author is added to this if there's an author registered to the post. TODO confirm
		* Scheam.org/BreadcrumbList has been rewritten and is now supported on all pages, not just singular posts.
	* **Breadcrumbs:**
		* Breadcrumb output is now supported. Since it appears they aren't coming anytime soon to the Block editor.
			* You can use the shortcode, `[tsf_breadcrumbs separator=">"]`, which will output a breadcrumb of any kind using the separator ">".
				* We're planning to convert it to a block once the API is stable enough.
					* TODO isn't it already? It's quite simple, but we want to add options for the separator.
	* **Multisite:**
		* On multisite, you can now inspect and edit user SEO metadata ("Authorial Info") for any users that have author capabilities on any (other) blog.
			* This capability is by default `edit_posts`, predefineable via constant `THE_SEO_FRAMEWORK_AUTHOR_INFO_CAP`.
		* When switching blogs on multisite, all data memoization now flushes.
	* **Migration:**
		* SEOPress's metadata is now detected when activating the plugin for the first time, so TSF can suggest to [migrate SEO metadata](https://theseoframework.com/extensions/transport/).
	* **Third party support:**
		* This plugin can now be updated via [GitHub PLugin Updater](https://git-updater.com/knowledge-base/general-usage/).
* **Changed:**
	* TSF no longer pings search engines the base sitemap location when updating the options without changing the options.
	* **Compatibility:**
		* TSF now requires WordPress v5.9 or later, from WordPress v5.5 or later.
	* The Homepage SEO Settings box's title no longer carries a warning; instead, we added a bigger, more noticable warning to every settings section when editing the homepage.
		* We're getting too many support inquiries about this; sorry about the noise, but it ought to decrease confusion.
		* This also works around an issue where Gutenberg still doesn't understand HTML.
		* This also works around an issue where Gutenberg leadership does not respect the community that allowed them to create the everlasting abomination and [fix all the points made here](https://github.com/WordPress/gutenberg/issues/7960), which would take about 5 hours of work -- postponed for 5 years already.
	* **Metadata:**
		* The `theme_color` metatag now also outputs on requests where Advanced Query Protection engages.
		* `article:modified_time` and `article:published_time` now listen to Open Graph settings, and will always try to output on single post types.
	* No longer uses the blog tagline for the homepage, it's often too short anyway. FIXME/TODO what does? Description?
	* Paginated URLs are now regardless of using a custom canonical URL or indexation status.
		* This helps search engines find URLs to all paginated pages, improving link discovery.
	* The shortlink URL is now also outputted on the paginated homepage.
	* When previewing a post, you may now be redirected when a custom redirect is entered in the meta.
* **Improved:**
	* **Performance:**
		* The plugin is faster now due to [new](https://twitter.com/SybreWaaijer/status/1654101713714831361) [coding](https://twitter.com/SybreWaaijer/status/1678409334626172928) [standards](https://twitter.com/SybreWaaijer/status/1678412864200093696) (among others).
		* Multiple types of homepages are no longer tested when fetching custom metadata, improving performance when viewing the administrative post list.
		* The main query is no longer performed by WordPress when loading the sitemap, removing 10 redundant database queries.
			* Related Core ticket is [#51117](https://core.trac.wordpress.org/ticket/51117).
		* Sticky posts are no longer calculated when generating the sitemap, removing a redundant database query.
			* Related Core ticket is [#51542](https://core.trac.wordpress.org/ticket/51542).
		* The URL generator has been rewritten from the ground up. With that, we removed all patches for pagination and rely on our pagination tweaks now.
			* Because of this, the sitemap generates up to 4% faster, even after we applied a URL sanitizer patch.
				TODO retest versus feb1ab3 -- we're bound to \tsf()-> functionality yet.
		* The Shortlink generator has been rewritten. It no longer generates the URL before it determines it could actually use it. It also uses a much more straightforward method to append the query parameters.
		* The Image generator has been rewritten. It now only feeds data when an actual image is found; this reduces operation feedback in subroutines, improving performance significantly.
		* The main object in the plugin has been largely emptied, and is over TODO methods lighter. Or, more importantly, TODO lines of code (including comments) smaller.
			* Now, depending on the options you use and which page one visits, selectively, the required methods are loaded, reducing read times of the plugin files by about 70% (TODO confirm "boot").
			* Now, the main object is rarely required internally, but most methods are called statically (directly). This reduces the function overhead [from 4% to 62%](https://3v4l.org/J00A0).
				* Although, this may increase overhead by 17% due to [a quirk in PHP](https://twitter.com/SybreWaaijer/status/1703077875988009325). But, we combat this by creating as few methods as possible, at the cost of "readability" (this only affects developers not using a modern code editor).
		* Generated image metadata are now cached per method using PHP 8's "Fiber" principle (I backported it conceptually to 7.4). This way, the generation of image metadata no longer relies on the type of image requested (Twitter, Open Graph, Structured Data), but may always benefit from already generated image metadata, and continue to make more metadata when there's demand.
		* Fewer term and post meta data is stored in the plugin's memoization (up to 69 items each, nice), so there's less of a strain on memory when generating sitemaps or walking through metadata. Object caching can still work and won't be affected.
	* **Compatibility:**
		* A new multilingual plugin conflict detection is implemented. Polylang, WPML, TranslatePress, and WPGlobus are detected by default as potentially conflicting. When a potentially conflicting multilingual plugin is detected:
			* A warning is displayed above the homepage settings.
			* A warning is displayed above the Post Type Archive settings.
			* A warning is displayed at the Sitemap Output settings.
	* **Accessibility:**
		* The Custom Post Type Archive selector now better conveys that it's not an option.
* **Fixed:**
	* Even if WordPress can't fulfill a JSON-type request, WordPress will falsely report it's parsing JSON-formatted content. Caching plugins ignore this, and create a copy of this JSON-type response as a regular page, with the content altered -- [learn more](https://wordpress.org/support/topic/meta-block-sometimes-not-inserted/#post-16559784). TSF no longer stops outputting SEO metadata when a JSON-type is requested by a visitor, so caching plugins won't accidentally store copies without metadata any longer.
		* Akin to `is_admin()`, unexpected behavior will occur in WordPress, themes, and plugins when sending JSON headers. We deem this a security issue, although Automattic thinks differently (hence, Jetpack is still vulnerable to `/?_jsonp=hi`, and so are hundreds of other plugins). Because we treated this as a security issue, we had to wait for Automattic to report back.
		* We consider the following WordPress API functions dangerous, and we advise security researchers investigating plugins utilizing these:
			- `wp_is_json_request()`
			- `wp_is_jsonp_request()`
			- `wp_is_xml_request()`
	* **Administration:**
		* Tooltip text is now more specifically colored white, making text legible again with some custom admin themes.
		* Addressed a regression from TSF v4.2.0 where WordPress admin color schemes stopped affecting TSF's color scheme. Affected are:
			* Tooltip background and text color.
			* Post/Page SEO Settings active-tab border color.
		* Title and description lengths are now calculated more quickly and more accurately for the SEO Bar.
		* Dashlane is being decadent by first removing a perfectly good desktop app, and then they quickly stopped adhering to agreed upon web accessibility standards. Since, it is trying to shove their own "standard" down our throats. We won't mention that "standard," for no one should use it.
			* You should try Nordpass, for Dashlane's incompetence [shall not pass](https://www.youtube.com/watch?v=3xYXUeSmb-Y).
		* The SEO Settings meta box is now also styled correctly inside the Block Editor for other post types than 'post' when positioned under the content.
			* Most notably, the padding and border around the settings make it much easier on your eyes.
		* If a custom social image URL is inserted in the homepage post-edit meta box, it will now also be depicted in the Homepage Settings meta box on the SEO Settings page.
	* **Title:**
		* Resolved an issue where the Twitter title would fall back to a custom Open Graph title when Open Graph is disabled.
		* Resolved an issue where the incorrect Open Graph fallback title was proposed as a placeholder in the admin interface.
			* This probably can only be replicated after you already published the page and halt JS. We only resolved the bug in theory and verified there wasn't a new issue created. TODO actually verify.
				-> This works on the front-end, not back-end.
	* **Description:**
		* Resolved an issue where the Twitter description would fall back to a custom Open Graph description when Open Graph is disabled.
		* Words with attached plain connector punctuation (`l'apostrophe`) now get tested correctly for repeated words.
		* Words with attached plain connector punctuation (`l'apostrophe`) are now considered starting or mid-sentence words, so the `l'`-part of `l'apostrophe` will also be included in the description when it's at the start, and the `apostrophe` part won't be trimmed anymore if not followed by at least 2 more words or final punctuation (dot).
		* Resolved an issue where the description generator didn't recognize non-closing element tags in unescaped attributes.
			* `<el attr="test>">content<el>` must match `content`, not `">content`.
		* Resolved an issue where the description generator didn't recognize second or later unclosed attributes in an element.
			* `<el attr attr="test> test=">content<el>` must match `content`, not ` test=">content`.
		* Resolved an issue where the description would face catastrophic backtracking when stacking elements never closed all.
			* `<el 1><el 2></el> ... never close el 1` should match the entire document, instead of halting the process.
		* Resolved an issue that when the description generator found a similar unclosed element in a stack, it'd consider it as the beginning of the stack.
			* `<element><element></element></never-closing-element>etc...` matched `<element></element></never-closing-element>etc...` but now matches the second `<element>` as content (which will then be obliterated in the second pass).
	* **Compatibility:**
		* Fixed a [bug in Polylang](https://github.com/polylang/polylang/issues/928) that breaks all plugins but Yoast SEO and achieves nothing but slowing down your site -- simply, by purging Polylang's egregious AJAX-handler from browser memory.
		* Fix an issue where the sitemap was invalidated when a URL adds special query parameters with non-latin characters.
	* **Shortlink:**
		* The shortlink can now generate a proper tag URL. WordPress created a different endpoint for this, unlike any other taxonomy.
* **Removed:**
	* The following plugins are no longer recognized as conflicting plugins:
		* SEO: Yoast SEO Premium (Yoast SEO needs to be active for Yoast SEO Premium to work).
			* Yoast SEO is still checked for.
		* Sitemaps: Simple Wp Sitemap ([abandoned](https://wordpress.org/plugins/simple-wp-sitemap/)).
	* Open Graph tag `og:updated_time` is no longer outputted, it is inferred from `article:modified_time`.
	* TODO remove `fb:app_id` -- even though users will get warnings and annoy us?

**For translators:**

* **Added:** New translation strings are available.
* **Updated:** TODO A new POT file is available.

**For developers:**

* TODO: **Plugin database version is now at `4300`**
* **Added:**
	* Pooled objects: TODO order alphabetically (also in code)
		* We do not use pools internally (we call the query-methods directly) -- however, we **urge you to use the pool**. This is because it has a neat little feature: **Dynamic deprecation**. Whenever we choose to remove a method or property you used, your site won't crash when you update the plugin -- instead, you get a deprecation notice and a temporary fallback value.
			* To learn more, check out methods `tsf()->query()` and trait `Static_Deprecator`. Since the method is brand new, nothing has been deprecated yet.
	* Pool `tsf()->query()` is now available.
		* All public query-related methods have been moved to that pool. E.g., `tsf()->is_product()` is now `tsf()->query()->is_product()`.
		* Internally known as `The_SEO_Framework\Helper\Query`.
		* This pool has a sub-pool, accessible via `tsf()->query()->utils()`.
			* Internally known as `The_SEO_Framework\Meta\Title\Utils`.
		* This pool has a sub-pool, accessible via `tsf()->query()->cache()`.
			* Internally known as `The_SEO_Framework\Meta\Title\Cache`.
	* Pool `tsf()->post_types()` is now available.
		* All public post type methods have been moved to that pool. E.g., `tsf()->is_post_type_supported()` is now `tsf()->post_types()->is_post_type_supported()`.
		* Internally known as `The_SEO_Framework\Helper\Post_Types`.
	* Pool `tsf()->taxonomies()` is now available.
		* All public taxonomy methods have been moved to that pool. E.g., `tsf()->is_taxonomy_supported()` is now `tsf()->taxonomies()->is_taxonomy_supported()`.
		* Internally known as `The_SEO_Framework\Helper\Taxonomies`.
	* Pool `tsf()->robots()` is now available.
		* All public taxonomy methods have been moved to that pool. E.g., `tsf()->get_robots_meta()` is now `tsf()->robots()->get_meta()`.
		* Internally known as `The_SEO_Framework\Meta\Robots`.
	* Pool `tsf()->uri()` is now available.
		* All public uri-related methods have been moved to that pool. E.g., `tsf()->get_custom_canonical_url()` is now `tsf()->uri()->get_custom_canonical_url()`.
		* Internally known as `The_SEO_Framework\Meta\URI`.
		* This pool has a sub-pool, accessible via `tsf()->uri()->utils()`.
			* Internally known as `The_SEO_Framework\Meta\URI\Utils`.
	* Pool `tsf()->title()` is now available.
		* All public title-related methods have been moved to that pool. E.g., `tsf()->get_custom_title()` is now `tsf()->title()->get_custom_title()`.
		* Internally known as `The_SEO_Framework\Meta\Title`.
		* This pool has a sub-pool, accessible via `tsf()->title()->utils()`.
			* Internally known as `The_SEO_Framework\Meta\Title\Utils`.
		* This pool has a sub-pool, accessible via `tsf()->title()->conditions()`.
			* Internally known as `The_SEO_Framework\Meta\Title\Conditions`.
	* Pool `tsf()->description()` is now available.
		* All public description-related methods have been moved to that pool. E.g., `tsf()->description()` is now `tsf()->description()->get_description()`.
		* Internally known as `The_SEO_Framework\Meta\Description`.
		* This pool has a sub-pool, accessible via `tsf()->description()->excerpt()`.
			* Internally known as `The_SEO_Framework\Meta\Description\Excerpt`.
	* Pool `tsf()->open_graph()` is now available.
		* All public Open Graph-related methods have been moved to that pool. E.g., `tsf()->get_open_graph_title()` is now `tsf()->open_graph()->get_description()`.
		* Internally known as `The_SEO_Framework\Meta\Open_Graph`.
	* Pool `tsf()->facebook()` is now available.
		* Facebook never had a public API, but it now has new methods, e.g., `tsf()->facebook()->get_author()`.
		* Internally known as `The_SEO_Framework\Meta\Facebook`.
	* Pool `tsf()->twitter()` is now available.
		* All public Twitter-related methods have been moved to that pool. E.g., `tsf()->get_twitter_title()` is now `tsf()->twitter()->get_description()`.
		* Internally known as `The_SEO_Framework\Meta\Twitter`.
	* Pool `tsf()->image()` is now available.
		* All public Image-related methods have been moved to that pool. E.g., `tsf()->get_custom_field_image_details()` is now `tsf()->image()->get_custom_image_details()`.
		* Internally known as `The_SEO_Framework\Meta\Image`.
	* Pool `tsf()->schema()` is now available.
		* Also contains a public property: `$entities`, a list of all supported entity class names.
		* Internally known as `The_SEO_Framework\Meta\Image`.
	* Pool `tsf()->breadcrumbs()` is now available.
		* Internally known as `The_SEO_Framework\Meta\Breadcrumbs`.
* **Improved:**
	* Method `tsf()->__set()` now protects against fatal errors on PHP 8.2 or later.
	* Usage of stopwatch `microtime()` has been exchanged for `hrtime()`, improving accuracy and performance.
	* Deprecation and inaccessible property/method notices now ***absolutely accurately***&trade; find the originating caller.
	* Query error notices also now ***absolutely accurately***&trade; find the originating caller, in reverse order.
	* `0` should be allowed as a custom title now.
		* TODO verify. If not, set "Allow 0 to be the title." back to an empty() check?
			-> It works on admin, not on front...
* **Changed:**
	* When `tsf()` or `the_seo_framework()` are called too early (before `plugins_loaded`), they'll return a silencer class.
	* Twitter cards are no longer validated whether a card type is provided.
		* Hence, returning an empty string to (TODO deprecated?) filter `'the_seo_framework_twittercard_output'` will no longer disable Twitter cards.
* **Fixed:**
	* Resolved PHP warning when editing a post type with altered term type availability.
	* Resolved PHP warning when editing a user with editor capabilities on the primary network's site via WordPress Multisite user-edit interface.
	* The `<font>` tag is deprecated, so we updated the tag and its to `<span>` in the debug panels.
		* These Easter eggs were fun while they lasted.
* **Option notes:**
	* For option index `autodescription-site-settings` (constant `THE_SEO_FRAMEWORK_SITE_OPTIONS`):
		* **Added:**
			* Index `auto_description_html_method`, this used to be `auto_descripton_html_method` (typo).
			* Suboption filter `s_color_hex` is available.
		* **Changed:**
			* The options no longer have their slashes stripped via `stripslashes_deep`. This was done precautionary because WordPress adds slashes to everything to account for a long-discouraged PHP quirk. Resaving the options would then cause slashes to become repeated: `'` becomes `\'`, `\'` becomes `\\\'`, etc. This is now addressed.
				* See https://www.php.net/manual/en/function.get-magic-quotes-gpc.php.
		* **Removed**
			* Index `auto_descripton_html_method`.
				* It is now `auto_description_html_method` (typo in "description").
				* We found no indication this was used in public yet, so we didn't go through a deprecation process. Sorry in advance if this change affects your site.
			* Suboption filter `s_left_right_home` is now gone; use `s_left_right` instead.
			* Index `knowledge_gplus`
				* It's no longer supported since 2018; we kept it around because users could fill whatever URL in this field. But, it's time to say goodbye to this cruft.
	* For option index `autodescription-updates-cache` (constant `THE_SEO_FRAMEWORK_SITE_CACHE`):
		* It's now `autodescription-site-cache` and its contents will be migrated after updating.
			* This option will now also be home to the Archive and Search Exclusion cache.
		* This option will be **removed** on upgrade. If you downgrade, it will be repopulated, and there should be no issues with that.
* **Transient notes:**
	* **Added:**
		* Transient `tsf_sitemap_{$sitemap_id}_{$revision}_{$blog_id}_{$locale}` may now be stored for sitemaps.
	* **Removed:**
		* Transient `tsf_sitemap_5_%`, where % doesn't contain the sitemap ID, but changes per blog ID and language, is no longer used. This transient should clear automatically.
		* Transient `tsf_exclude_1_%`, where % changes per blog ID and language, is no longer used. This transient will be deleted on upgrade.
		* Transient `tsf_exclude_0_%` was leftover from TSF 3.0 and will be deleted on upgrade.
* **Function notes:**
	* **Added:**
		* `The_SEO_Framework\is_headless()` is now available. Use this in favor of `\tsf()->is_headless`, which is now deprecated.
		* `The_SEO_Framework\Utils\normalize_generation_args()` is now available.
		* `The_SEO_Framework\Utils\array_flatten_list()` is now available.
		* `The_SEO_Framework\Utils\scrub_array()` is now available.
		* `The_SEO_Framework\Utils\array_merge_recursive_distinct()` is now available.
			* This is the only correct function of kind that exists, made bespoke by me for TSF.
			* It's practically `array_merge()` for multidimensional arrays.
	* **Changed:**
		* `tsf()` and `the_seo_framework()` now return an uncached silencer when called to early (before `plugins_loaded`).
			* All calls made to this object return void.
			* This may cause fatal errors in rare cases.
			* This will prevent TSF from acting sporadically when other plugins hook into TSF too early.
* **Object notes:**
	* **New objects:**
		* Class `The_SEO_Framework\Bridges\Cache` is new. It provides a collection of static caching interface methods.
	* **Existing objects:**
		* Class `\The_SEO_Framework\Internal\Debug` is now marked private. It was never meant to be public.
		* For class `\The_SEO_Framework\Load` (callable via `tsf()` and `the_seo_framework()`):
			* **Methods added:**
				* `detect_multilingual_plugins()`
			* **Methods changed:**
				* TODO redo this list; just go by all functions within the object, ought to be easier retroactively...
				* `query_supports_seo()`
					1. Removed detection for JSON(P) and XML type requests, because these cannot be assumed as legitimate.
					2. Added `is_customize_preview()` as unsupported.
					3. Moved to `\The_SEO_Framework\Helper\Query`.
				* `_init_sitemap()` is no longer called with `template_redirect`, but at `parse_request` at priority `15`. This prevents loading the main query.
					* This makes loading the sitemap anywhere from barely noticeable to thousands of times faster, depending on which other plugins and themes you have installed.
					* This method is still marked as private, just wanted you document how a part prone to causing catastrophe changed.
				* `escape_description()` now requires a first parameter.
				* `s_excerpt()` now requires a first parameter.
				* `s_excerpt_raw()` now requires a first parameter.
				* `escape_title()` now requires a first parameter.
				* `is_profile_edit()` now also tests network admin profile screens.
				* `s_min_max_sitemap()`:
					1. Now also sanitizes the default fallback value.
					2. No longer falls back to the default option, but 1000 instead.
				* `s_image_preview()` now falls back to `'large'` instead of `'standard'`.
				* `s_left_right()` no longer falls back to option or default option, but a language-based default instead.
				* `s_twitter_card()` no longer falls to the default option, but `'summary_large_image'`.
				* `get_title()`'s third parameter is now gone. Use `get_open_graph_title()` or `get_twitter_title()` instead.
			* **Methods deprecated:**
				* `set_transient`, use WordPress's builtin namesake instead.
				* `get_transient`, use WordPress's builtin namesake instead.
				* `is_404`, use WordPress's builtin namesake instead.
				* `is_admin`, use WordPress's builtin namesake instead.
				* `is_customize_preview`, use WordPress's builtin namesake instead.
				* `is_date`, use WordPress's builtin namesake instead.
				* `is_day`, use WordPress's builtin namesake instead.
				* `is_feed`, use WordPress's builtin namesake instead.
				* `is_month`, use WordPress's builtin namesake instead.
				* `is_robots`, use WordPress's builtin namesake instead.
				* `s_left_right_home()`, use `s_left_right()` instead. TODO we might move this.
					* This method also no longer falls back to option or default option, but a language-based default instead.* `get_post_type_real_id`, use `tsf()->query()->get_post_type_real_id()` instead
				* `get_admin_post_type`, use `tsf()->query()->get_admin_post_type()` instead
				* `get_post_types_from_taxonomy`, use `tsf()->taxonomies()->get_post_types_from_taxonomy()` instead
				* `get_the_real_id`, use `tsf()->query()->get_the_real_id()` instead
				* `get_the_real_admin_id`, use `tsf()->query()->get_the_real_admin_id()` instead
				* `get_the_front_page_id`, use `tsf()->query()->get_the_front_page_id()` instead
				* `get_admin_term_id`, use `tsf()->query()->get_admin_term_id()` instead
				* `get_current_taxonomy`, use `tsf()->query()->get_current_taxonomy()` instead
				* `get_current_post_type`, use `tsf()->query()->get_current_post_type()` instead
				* `is_attachment`, use `tsf()->query()->is_attachment()` instead
				* `is_attachment_admin`, use `tsf()->query()->is_attachment_admin()` instead
				* `is_singular_archive`, use `tsf()->query()->is_singular_archive()` instead
				* `is_archive`, use `tsf()->query()->is_archive()` instead
				* `is_archive_admin`, use `tsf()->query()->is_archive_admin()` instead
				* `is_term_edit`, use `tsf()->query()->is_term_edit()` instead
				* `is_post_edit`, use `tsf()->query()->is_post_edit()` instead
				* `is_wp_lists_edit`, use `tsf()->query()->is_wp_lists_edit()` instead
				* `is_profile_edit`, use `tsf()->query()->is_profile_edit()` instead
				* `is_author`, use `tsf()->query()->is_author()` instead
				* `is_home`, use `tsf()->query()->is_blog()` instead
				* `is_home_as_page`, use `tsf()->query()->is_blog_as_page()` instead
				* `is_category`, use `tsf()->query()->is_category()` instead
				* `is_category_admin`, use `tsf()->query()->is_category_admin()` instead
				* `is_real_front_page`, use `tsf()->query()->is_real_front_page()` instead
				* `is_real_front_page_by_id`, use `tsf()->query()->is_real_front_page_by_id()` instead
				* `is_page`, use `tsf()->query()->is_page()` instead
				* `is_page_admin`, use `tsf()->query()->is_page_admin()` instead
				* `is_preview`, use `tsf()->query()->is_preview()` instead
				* `is_search`, use `tsf()->query()->is_search()` instead
				* `is_single`, use `tsf()->query()->is_single()` instead
				* `is_single_admin`, use `tsf()->query()->is_single_admin()` instead
				* `is_singular`, use `tsf()->query()->is_singular()` instead
				* `is_singular_admin`, use `tsf()->query()->is_singular_admin()` instead
				* `is_static_frontpage`, use `tsf()->query()->is_static_frontpage()` instead
				* `is_tag`, use `tsf()->query()->is_tag()` instead
				* `is_tag_admin`, use `tsf()->query()->is_tag_admin()` instead
				* `is_tax`, use `tsf()->query()->is_tax()` instead
				* `is_shop`, use `tsf()->query()->is_shop()` instead
				* `is_product`, use `tsf()->query()->is_product()` instead
				* `is_product_admin`, use `tsf()->query()->is_product_admin()` instead
				* `is_year`, use `tsf()->query()->is_year()` instead
				* `is_ssl`, use `tsf()->query()->is_ssl()` instead
				* `is_seo_settings_page`, use `tsf()->query()->is_seo_settings_page()` instead
				* `is_menu_page`, use `tsf()->query()->is_menu_page()` instead
				* `page`, use `tsf()->query()->page()` instead
				* `paged`, use `tsf()->query()->paged()` instead
				* `numpages`, use `tsf()->query()->numpages()` instead
				* `is_multipage`, use `tsf()->query()->is_multipage()` instead
				* `is_sitemap`, use `tsf()->query()->is_sitemap()` instead
				* `advanced_query_protection`, with no alternative available.
				* `the_description`, with no alternative available.
				* `robots`, with no alternative available.
				* `canonical`, with no alternative available.
				* `shortlink`, with no alternative available.
				* `paged_urls`, with no alternative available.
				* `theme_color`, with no alternative available.
				* `google_site_output`, with no alternative available.
				* `bing_site_output`, with no alternative available.
				* `yandex_site_output`, with no alternative available.
				* `baidu_site_output`, with no alternative available.
				* `pint_site_output`, with no alternative available.
				* `use_og_tags`, with no alternative available.
				* `og_title`, with no alternative available.
				* `og_description`, with no alternative available.
				* `og_locale`, with no alternative available.
				* `og_type`, with no alternative available.
				* `og_image`, with no alternative available.
				* `og_sitename`, with no alternative available.
				* `og_url`, with no alternative available.
				* `og_updated_time`, with no alternative available.
				* `facebook_author`, with no alternative available.
				* `facebook_publisher`, with no alternative available.
				* `facebook_app_id`, with no alternative available.
				* `use_facebook_tags`, with no alternative available.
				* `article_published_time`, with no alternative available.
				* `article_modified_time`, with no alternative available.
				* `output_modified_time`, with no alternative available.
				* `output_published_time`, with no alternative available.
				* `get_current_twitter_card_type`, with no alternative available.
				* `twitter_card`, with no alternative available.
				* `twitter_site`, with no alternative available.
				* `twitter_creator`, with no alternative available.
				* `twitter_title`, with no alternative available.
				* `twitter_description`, with no alternative available.
				* `twitter_image`, with no alternative available.
				* `use_twitter_tags`, with no alternative available.
				* `array_merge_recursive_distinct`, use function `\The_SEO_Framework\Utils\array_merge_recursive_distinct()` instead.
				* `retrieve_robots_meta_assertions()`, use `tsf()->robots()->get_collected_meta_assertions()` instead.
				* `get_robots_meta()`, use `tsf()->robots()->get_meta()` instead.
				* `generate_robots_meta()`, use `tsf()->robots()->generate_meta()` instead.
				* `is_post_type_robots_set()`, use `tsf()->robots()->is_post_type_robots_set()` instead.
				* `is_taxonomy_robots_set()`, use `tsf()->robots()->is_taxonomy_robots_set()` instead.
				* `query_supports_seo()`, use `tsf()->query()->utils()->query_supports_seo()` instead.
				* `is_query_exploited()`, use `tsf()->query()->utils()->is_query_exploited()` instead.
				* `has_page_on_front()`, use `tsf()->query()->utils()->has_page_on_front()` instead.
				* `is_post_type_supported()`, use `tsf()->post_types()->is_post_type_supported()` instead.
				* `is_post_type_archive_supported()`, use `tsf()->post_types()->is_post_type_archive_supported()` instead.
				* `post_type_supports_taxonomies()`, use `tsf()->post_types()->post_type_supports_taxonomies()` instead.
				* `get_supported_post_type_archives()`, use `tsf()->post_types()->get_supported_post_type_archives()` instead.
				* `get_public_post_type_archives()`, use `tsf()->post_types()->get_public_post_type_archives()` instead.
				* `get_supported_post_types()`, use `tsf()->post_types()->get_supported_post_types()` instead.
				* `is_post_type_disabled()`, use `tsf()->post_types()->is_post_type_disabled()` instead.
				* `is_taxonomy_supported()`, use `tsf()->taxonomies()->is_taxonomy_supported()` instead.
				* `get_supported_taxonomies()`, use `tsf()->taxonomies()->get_supported_taxonomies()` instead.
				* `is_taxonomy_disabled()`, use `tsf()->taxonomies()->is_taxonomy_disabled()` instead.
				* `is_term_meta_capable()`, use `tsf()->query()->is_editable_term()` instead.
				* `get_hierarchical_post_types()`, use `tsf()->post_types()->get_hierarchical_post_types()` instead.
				* `get_nonhierarchical_post_types()`, use `tsf()->post_types()->get_nonhierarchical_post_types()` instead.
				* `get_hierarchical_taxonomies_as()`, use `tsf()->taxonomies()->get_hierarchical_taxonomies_as()` instead.
				* `get_post_type_label()`, use `tsf()->post_types()->get_post_type_label()` instead.
				* `get_tax_type_label()`, use `tsf()->post_types()->get_taxonomy_label()` instead.
				* `generate_og_type()`, use `tsf()->open_graph()->get_type()` instead.
				* `get_og_type()`, use `tsf()->open_graph()->get_type()` instead.
				* `get_redirect_url()`, use `tsf()->uri()->get_redirect_url()` instead.
				* `get_blogname()`, use `tsf()->data()->blog()->get_public_blog_name()` instead.
				* `get_filtered_raw_blogname()`, use `tsf()->data()->blog()->get_filtered_blog_name()` instead.
				* `get_blogdescription()`, use `tsf()->data()->blog()->get_filtered_blog_description()` instead.
				* `generate_twitter_card_type()`, use `tsf()->twitter()->get_card_type()` instead.
				* `get_twitter_card_types()`, use `tsf()->twitter()->get_supported_cards()` instead.
				* `get_available_twitter_cards()`, with no alternative available.
				* `get_separator()`, use `tsf()->title()->get_separator()` instead.
				* `get_title_separator()`, use `tsf()->title()->get_separator()` instead.
				* `get_separator_list()`, use `tsf()->title()->utils()->get_separator_list()` instead.
				* `trim_excerpt()`, use `\The_SEO_Framework\Utils\clamp_sentence()` instead.
				* `get_excerpt_by_id()`, use `tsf()->description()->get_singular_excerpt()` instead.
				* `fetch_excerpt()`, use `tsf()->description()->get_singular_excerpt()` instead.
				* `get_modified_time()`, with no alternative available.
				* `get_description()`, use `tsf()->description()->get_description()` instead.
				* `get_description_from_custom_field()`, use `tsf()->description()->get_custom_description()` instead.
				* `get_generated_description()`, use `tsf()->description()->get_generated()` instead.
				* `get_generated_twitter_description()`, use `tsf()->twitter()->get_generated_description()` instead.
				* `get_generated_open_graph_description()`, use `tsf()->open_graph()->get_generated_description()` instead.
				* `supported_social_locales()`, use `tsf()->open_graph()->get_supported_locales()` instead.
				* `get_generated_open_graph_title()`, use `tsf()->open_graph()->get_generated_title()` instead.
				* `get_generated_twitter_title()`, use `tsf()->twitter()->get_generated_title()` instead.
				* `use_title_protection()`, with no alternative available.
				* `use_title_pagination()`, with no alternative available.
				* `use_title_branding()`, with no alternative available.
				* `use_generated_archive_prefix()`, with no alternative available.
				* `use_home_page_title_tagline()`, with no alternative available.
				* `use_singular_title_branding()`, with no alternative available.
				* `use_taxonomical_title_branding()`, with no alternative available.
				* `use_post_type_archive_title_branding()`, with no alternative available.
				* `get_title_seplocation()`, use `tsf()->title()->get_addition_location()` instead.
				* `get_home_title_seplocation()`, use `tsf()->title()->get_addition_location_for_front_page()` instead.
				* `get_home_title_additions()`, use `tsf()->title()->get_addition_for_front_page()` instead.
				* `get_custom_field_title()`, use `tsf()->title()->get_custom_title()` instead.
				* `get_generated_title()`, use `tsf()->title()->get_generated_title()` instead.
				* `get_filtered_raw_custom_field_title()`, use `tsf()->title()->get_bare_custom_title()` instead.
				* `get_filtered_raw_generated_title()`, use `tsf()->title()->get_bare_generated_title()` instead.
				* `get_raw_custom_field_title()`, use `tsf()->title()->get_bare_unfiltered_custom_title()` instead.
				* `get_raw_generated_title()`, use `tsf()->title()->get_bare_unfiltered_generated_title()` instead.
				* `get_static_front_page_title()`, use `tsf()->title()->get_front_page_title()` instead.
				* `get_generated_archive_title()`, use `tsf()->title()->get_archive_title()` instead.
				* `get_raw_generated_archive_title_items()`, use `tsf()->title()->get_archive_title_list()` instead.
				* `get_generated_single_post_title()`, use `tsf()->title()->get_post_title()` instead.
				* `get_generated_single_term_title()`, use `tsf()->title()->get_term_title()` instead.
				* `get_generated_post_type_archive_title()`, use `tsf()->title()->get_post_type_archive_title()` instead.
				* `get_static_untitled_title()`, use `tsf()->title()->get_untitled_title()` instead.
				* `get_generated_search_query_title()`, use `tsf()->title()->get_search_query_title()` instead.
				* `get_static_404_title()`, use `tsf()->title()->get_404_title()` instead.
				* `merge_title_branding()`, use `tsf()->title()->add_branding()` instead.
				* `merge_title_pagination()`, use `tsf()->title()->add_pagination()` instead.
				* `merge_title_protection()`, use `tsf()->title()->add_protection_status()` instead.
				* `has_custom_canonical_url()`, use `tsf()->uri()->get_custom_canonical_url()` instead.
				* `get_home_url()`, use `tsf->data()->blog()->get_front_page_url()` instead.
				* `get_preferred_scheme()`, use `tsf->uri()->utils()->get_preferred_url_scheme()` instead.
				* `set_preferred_url_scheme()`, use `tsf->uri()->utils()->set_preferred_url_scheme()` instead.
				* `detect_site_url_scheme()`, use `uri()->utils()->detect_site_url_scheme()` instead.
				* `set_url_scheme()`, use `uri()->utils()->set_url_scheme()` instead.
				* `make_fully_qualified_url()`, use `uri()->utils()->make_fully_qualified_url()` instead.
				* `get_current_canonical_url()`, use `tsf()->uri()->get_canonical_url()` instead.
				* `get_current_permalink()`, use `tsf()->uri()->get_generated_canonical_url()` instead.
				* `get_homepage_permalink()`, use `tsf()->uri()->get_bare_front_page_canonical_url()` instead.
				* `create_canonical_url()`, use `tsf->uri()->get_custom_canonical_url()` instead.
				* `get_home_canonical_url()`, use `tsf->uri()->get_front_page_canonical_url()` instead.
				* `get_raw_home_canonical_url()`, use `tsf->uri()->get_bare_front_page_canonical_url()` instead.
				* `get_singular_canonical_url()`, use `tsf()->uri()->get_singular_canonical_url()` instead.
				* `get_taxonomical_canonical_url()`, use `tsf()->uri()->get_taxonomical_canonical_url()` instead.
				* `get_post_type_archive_canonical_url()`, use `tsf()->uri()->get_post_type_archive_canonical_url()` instead.
				* `get_author_canonical_url()`, use `tsf()->uri()->get_author_canonical_url()` instead.
				* `get_date_canonical_url()`, use `tsf()->uri()->get_date_canonical_url()` instead.
				* `get_search_canonical_url()`, use `tsf()->uri()->get_search_canonical_url()` instead.
				* `add_pagination_to_url()`, use `tsf()->uri()->utils()->add_pagination_to_url()` instead.
				* `add_url_pagination()`, use `tsf()->uri()->utils()->add_pagination_to_url()` instead.
				* `remove_pagination_from_url()`, use `tsf->uri()->utils()->remove_pagination_from_url()` instead.
				* `get_paged_url()`, use `tsf->uri()->get_paged_url()` instead.
				* `get_paged_urls()`, use `tsf->uri()->get_paged_url()` instead.
				* `get_home_host()`, use `tsf->data()->blog()->get_site_host()` instead.
				* `append_url_query()`, use `tsf->uri()->utils()->append_url_query()` instead.
				* `matches_this_domain()`, use `tsf->uri()->utils()->url_matches_blog_domain()` instead.
				* `convert_to_url_if_path()`, use `tsf->uri()->utils()->convert_path_to_url()` instead.
				* `get_singular_custom_canonical_url()`, use `tsf->uri()->get_custom_canonical_url()` instead.
				* `get_taxonomical_custom_canonical_url()`, use `tsf->uri()->get_custom_canonical_url()` instead.
				* `get_post_type_archive_custom_canonical_url()`, use `tsf->uri()->get_custom_canonical_url()` instead.
				* `get_shortlink()`, use `tsf->uri()->get_shortlink()` instead.
				* `get_image_from_cache()`, use `tsf()->get_first_valid_image()` instead.
				* `get_image_details_from_cache()`, use `tsf()->get_image_details()` instead.
				* `get_custom_field_image_details()`, use `tsf()->image()->get_custom_image_details()` instead.
				* `get_generated_image_details()`, use `tsf()->image()->get_generated_image_details()` instead.
				* `merge_extra_image_details()`, use `tsf()->image()->merge_extra_image_details()` instead.
				* `get_image_dimensions()`, use `tsf()->image()->utils()->get_image_dimensions()` instead.
				* `get_image_alt_tag()`, use `tsf()->image()->utils()->get_image_alt_tag()` instead.
				* `get_image_filesize()`, use `tsf()->image()->utils()->get_image_filesize()` instead.
				* `get_largest_acceptable_image_src()`, use `tsf()->image()->utils()->get_largest_image_src()` instead.
				* `get_settings_capability()`, use constant `THE_SEO_FRAMEWORK_SETTINGS_CAP` instead.
				* `can_access_settings()`, use `current_user_can( THE_SEO_FRAMEWORK_SETTINGS_CAP )` instead.
				* `html_output()` with no alternative available.
				* `do_meta_output()` with no alternative available.
				* `tsf()->get_default_site_options()`, use `tsf()->data()->plugin()->setup()->get_default_options()` instead.
				* `tsf()->get_warned_site_options()`, use `tsf()->data()->plugin()->setup()->get_warned_options()` instead.
				* `tsf()->get_all_options()`, use `tsf()->data()->plugin()->get_options()` instead.
				* `tsf()->get_default_option()`, use `tsf()->data()->plugin()->setup()->get_default_option()` instead.
				* `tsf()->get_warned_option()`, use `tsf()->data()->plugin()->setup()->get_warned_option()` instead.
				* `tsf()->get_robots_post_type_option_id()`, use `tsf()->data()->plugin()->helper()->get_robots_option_index()` instead.
				* `tsf()->get_robots_taxonomy_option_id()`, use `tsf()->data()->plugin()->helper()->get_robots_option_index()` instead.
				* `tsf()->update_option()`, use `tsf()->data()->plugin()->update_option()` instead.
				* `tsf()->update_settings()`, use `tsf()->data()->plugin()->update_option()` instead.
				* `tsf()->get_static_cache()`, use `tsf()->data()->plugin()->get_site_cache()` instead.
				* `tsf()->update_static_cache()`, use `tsf()->data()->plugin()->update_site_cache()` instead.
				* `tsf()->update_static_cache()`, use `tsf()->data()->plugin()->update_site_cache()` instead.
				* `tsf()->get_term_meta_item()`, use `tsf()->data()->plugin()->term()->get_term_meta_item()` instead.
				* `tsf()->get_term_meta()`, use `tsf()->data()->plugin()->term()->get_term_meta()` instead.
				* `tsf()->get_term_meta_defaults()`, use `tsf()->data()->plugin()->term()->get_term_meta_defaults()` instead.
				* `tsf()->update_single_term_meta_item()`, use `tsf()->data()->plugin()->term()->update_single_term_meta_item()` instead.
				* `tsf()->get_latest_category_id()`, use `tsf()->data()->term()->get_latest_category_id()` instead.
				* `tsf()->get_latest_category_id()`, use `tsf()->data()->term()->is_term_populated()` instead.
				* `tsf()->get_latest_post_id()`, use `tsf()->data()->post()->get_latest_post_id()` instead.
				* `tsf()->get_primary_term()`, use `tsf()->data()->plugin()->post()->get_primary_term()` instead.
				* `tsf()->get_primary_term_id()`, use `tsf()->data()->plugin()->post()->get_primary_term_id()` instead.
				* `tsf()->update_primary_term_id()`, use `tsf()->data()->plugin()->post()->update_primary_term_id()` instead.
				* `tsf()->save_term_meta()`, use `tsf()->data()->plugin()->term()->save_term_meta()` instead.
				* `tsf()->get_user_meta_item()`, use `tsf()->data()->plugin()->user()->get_user_meta_item()` instead.
				* `tsf()->get_current_post_author_meta_item()`, use `tsf()->data()->plugin()->user()->get_current_post_author_meta_item()` instead.
				* `tsf()->get_current_post_author_meta()`, use `tsf()->data()->plugin()->user()->get_current_post_author_meta()` instead.
				* `tsf()->get_user_meta()`, use `tsf()->data()->plugin()->user()->get_user_meta()` instead.
				* `tsf()->get_user_meta_defaults()`, use `tsf()->data()->plugin()->user()->get_user_meta_defaults()` instead.
				* `tsf()->update_single_user_meta_item()`, use `tsf()->data()->plugin()->user()->update_single_user_meta_item()` instead.
				* `tsf()->save_user_meta()`, use `tsf()->data()->plugin()->user()->save_user_meta()` instead.
				* `tsf()->get_post_author_id()`, use `tsf()->query()->get_post_author_id()` instead.
				* `tsf()->get_current_post_author_id()`, use `tsf()->query()->get_post_author_id()` instead.
				* `tsf()->get_user_id()`, use `tsf()->query()->get_current_user_id()` instead.
			* **Methods removed:**
				* `is_auto_description_enabled()`, without deprecation (it was marked private).
				* `_adjust_post_link_category()`, without deprecation (it was marked private).
				* `render_element()`, without deprecation (it was marked protected).
				* `array_flatten_list()`, without deprecation (it was marked protected).
				* `init_debug_vars()`, was never meant to be public.
				* `get_image_generation_params()`, has nothing to offer for the public API.
				* Since we rebuilt `\The_SEO_Framework\Generate_Ldjson` and reworked the settings, these are removed:
					* `build_json_data`
					* `receive_json_data`
					* `render_ld_json_scripts`
					* `get_ld_json_website`
					* `get_ld_json_links`
					* `get_knowledge_logo`
					* `get_ld_json_breadcrumbs`
					* `get_ld_json_breadcrumbs_page`
					* `get_ld_json_breadcrumbs_post`
					* `get_ld_json_breadcrumb_home_crumb`
					* `get_ld_json_breadcrumb_current`
					* `get_schema_url_id`
					* `ld_json_breadcrumbs_use_seo_title`
					* `enable_ld_json_breadcrumbs`
					* `enable_ld_json_searchbox`
					* `enable_ld_json_knowledge`
					* `ld_json`
				* Since we moved class `\The_SEO_Framework\Cache`'s functionality from this object, these are removed:
					* `init_admin_caching_actions()`
					* `init_post_cache_actions()`
					* `set_plugin_check_caches()`
						* This is now `tsf()->reset_check_plugin_conflicts()`.
					* `delete_main_cache()`
					* `delete_post_cache()`
					* `delete_excluded_ids_cache()`
						* This has been moved to `The_SEO_Framework\Bridges\Cache::clear_excluded_post_ids_cache()`.
					* `delete_excluded_post_ids_transient()`
					* `delete_cache()`
					* `get_exclusion_transient_name()`
					* `get_sitemap_transient_name()`
						* This has been moved to `The_SEO_Framework\Bridges\Sitemap::get_transient_key()`.
					* `generate_cache_key()`
					* `generate_cache_key_by_type()`
					* `add_cache_key_suffix()`
						* This has been moved to `The_SEO_Framework\Bridges\Cache::build_unique_cache_key_suffix()`.
					* `delete_sitemap_transient_permalink_updated`
						* This has been moved to `The_SEO_Framework\Bridges\Cache::_refresh_sitemap_transient_permalink_updated()`, but not part of the public API.
					* `delete_sitemap_transient()`
						* This has been moved to `The_SEO_Framework\Bridges\Cache::clear_sitemap_transients()`.
				* Deprecated in TSF v4.2.0, the following deprecated methods of the `The_SEO_Framework\Load` object (`tsf()`) are no longer available:
					* `append_php_query()`
					* `get_legacy_header_filters_output()`
					* `get_legacy_header_filters_output()`
					* `get_html_output()`
					* `is_robots_meta_noindex_set_by_args()`
					* `robots_meta()`
					* `can_do_sitemap_robots()`
					* `nav_tab_wrapper()`
					* `inpost_flex_nav_tab_wrapper()`
					* `get_social_image_uploader_form()`
					* `get_logo_uploader_form()`
					* `proportionate_dimensions()`
					* `seo_settings_page_url()`
					* `get_default_user_data()`
					* `get_user_option()`
					* `get_author_option()`
					* `get_current_author_option()`
					* `is_wc_shop()`
					* `is_wc_product()`
					* `is_wc_product_admin()`
					* `update_user_option()`
					* `get_field_name()`
					* `field_name()`
					* `get_field_id()`
					* `field_id()`
					* `code_wrap()`
					* `code_wrap_noesc()`
					* `description()`
					* `description_noesc()`
					* `attention()`
					* `attention_noesc()`
					* `attention_description()`
					* `attention_description_noesc()`
					* `wrap_fields()`
					* `make_info()`
					* `make_data_attributes()`
					* `make_checkbox()`
					* `make_single_select_form()`
					* `is_default_checked()`
					* `is_warning_checked()`
					* `get_is_conditional_checked()`
					* `is_conditional_checked()`
					* `output_character_counter_wrap()`
					* `output_pixel_counter_wrap()`
					* `wp_version()`
					* `detect_theme_support()`
					* `detect_page_builder()`
					* `uses_page_builder()`
					* `fb_locales()`
					* `language_keys()`
					* `get_timezone_string()`
					* `set_timezone()`
					* `reset_timezone()`
					* `get_current_term_meta()`
					* `is_blog_page()`
					* `is_blog_page_by_id()`
					* `is_front_page_by_id()`
					* `prepend_tax_label_prefix()`
					* `check_the_real_id()`
					* `get_default_settings()`
					* `get_warned_settings()`
					* `get_safe_schema_image()`
			* **Properties deprecated:**
				* `the_seo_framework_use_transients`, with no alternative available.
				* `the_seo_framework_debug`, use constant `THE_SEO_FRAMEWORK_DEBUG` instead.
				* `script_debug`, use constant `SCRIPT_DEBUG` instead.
				* `is_headless`, use function `The_SEO_Framework\is_headless()` instead.
			* **Properties removed:**
				* Deprecated in TSF v4.2.0, `load_options` is no longer available.
		* Class `\The_SEO_Framework\Cache` is dropped from the god object `tsf()` and deleted.
* **Constant notes:**
	* **Changed:**
		* `THE_SEO_FRAMEWORK_DEBUG` is now always available at `plugins_loaded`.
	* **Removed:**
		* `THE_SEO_FRAMEWORK_DISABLE_TRANSIENTS`, for it is no longer used.
* **Filter notes:**
	* **Added:**
		* `the_seo_framework_auto_description_html_method_methods`, this used to be `the_seo_framework_auto_descripton_html_method_methods` (typo).
		* `the_seo_framework_multilingual_plugin_detected` TODO this will be rewritten -- confirm if this still exists.
			* This is used only to turn off detection, not turn it on.
			* Register conflicting plugins at `the_seo_framework_conflicting_plugins`.
				* TODO will we not deprecate this?
		* `the_seo_framework_sitemap_endpoint_list` now accepts `cache_id` for every entry.
		* `the_seo_framework_conflicting_plugins` now supports index `'multilingual'`.
		* `the_seo_framework_meta_generator_pools`, this is used to **remove meta generator callback pools** preemptively.
		* `the_seo_framework_meta_generators`, this is used to **add and remove meta generator callbacks**.
		* `the_seo_framework_meta_render_data`, this is used to **add, remove, and tweak generated metadata** before it's sent to the browser.
		* `the_seo_framework_custom_image_details`, this is used to change image details from custom field.
		* `the_seo_framework_generated_image_details`, this is used to change generated image details.
		* `the_seo_framework_schema_entity_builders`, this is used to add and remove Schema.org builders.
		* `the_seo_framework_schema_graph_data`, this is used to adjust the Schema.org output data.
		* `the_seo_framework_breadcrumb_list`, this is used to adjust the Breadcrumbs generation.
	* **Changed:**
		* `the_seo_framework_taxonomy_disabled`, the second parameter is now nullable (instead of an empty string).
		* `the_seo_framework_generated_archive_title`, the second parameter is now nullable (instead of an object).
	* **Deprecated:**
		* `the_seo_framework_googlesite_output`, with no alternative available.
		* `the_seo_framework_bingsite_output`, with no alternative available.
		* `the_seo_framework_yandexsite_output`, with no alternative available.
		* `the_seo_framework_baidusite_output`, with no alternative available.
		* `the_seo_framework_pintsite_output`, with no alternative available.
		* `the_seo_framework_ldjson_scripts`, with no alternative available.
		* `the_seo_framework_description_output`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_rel_canonical_output`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_shortlink_output`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_paged_url_output_next`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_paged_url_output_prev`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_ogtitle_output`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_ogdescription_output`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_oglocale_output`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_ogsitename_output`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_ogurl_output`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_facebookauthor_output`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_facebookpublisher_output`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_facebookappid_output`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_publishedtime_output`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_twittersite_output`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_twittercreator_output`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_twittertitle_output`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_twitterdescription_output`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_modifiedtime_output`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_ogtype_output`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_use_og_tags`, use `the_seo_framework_meta_generator_pools` instead.
		* `the_seo_framework_use_facebook_tags`, use `the_seo_framework_meta_generator_pools` instead.
		* `the_seo_framework_use_twitter_tags`, use `the_seo_framework_meta_generator_pools` instead.
		* `the_seo_framework_robots_meta`, use `the_seo_framework_meta_render_data` instead.
		* `the_seo_framework_image_details`, use `the_seo_framework_custom_image_details` or `the_seo_framework_generated_image_details` instead.
	* **Removed:**
		* Deprecated in TSF v4.2.0, two years later, we've now removed these filters:
			* `the_seo_framework_pta_title`
			* `the_seo_framework_the_archive_title`
			* `the_seo_framework_generated_archive_title_prefix`
			* `the_seo_framework_load_options`
			* `the_seo_framework_pta_description`
			* `the_seo_framework_pre`, use action `the_seo_framework_before_meta_output` instead.
			* `the_seo_framework_pro`, use action `the_seo_framework_after_meta_output` instead.
			* `the_seo_framework_before_output`, use action `the_seo_framework_before_meta_output` instead.
			* `the_seo_framework_after_output`, use action `the_seo_framework_after_meta_output` instead.
			* `the_seo_framework_settings_capability`, assign constant `THE_SEO_FRAMEWORK_SETTINGS_CAP` instead.
		* Because we've rewritten the Structured Data API from the ground up, these were incompatible and thus removed:
			* `the_seo_framework_receive_json_data`, use `the_seo_framework_schema_graph_data` instead.
			* `the_seo_framework_use_breadcrumb_seo_title`, use title settings instead.
				* We may in the future add options to adjust the breadcrumb titles on a per-page/term basis.
			* `the_seo_framework_knowledge_logo`, use `the_seo_framework_image_generation_params` instead.
			* `the_seo_framework_ld_json_breadcrumb_taxonomies`, use `the_seo_framework_breadcrumb_list` instead.
			* `the_seo_framework_ld_json_breadcrumb_terms`, use `the_seo_framework_breadcrumb_list` instead.
			* `the_seo_framework_json_breadcrumb_output`, use `the_seo_framework_breadcrumb_list` instead.
			* `the_seo_framework_json_search_output`, use `the_seo_framework_breadcrumb_list` instead.
			* `the_seo_framework_json_knowledge_output`, use `the_seo_framework_schema_graph_data` instead.
		* `the_seo_framework_auto_descripton_html_method_methods`
			* It is now `the_seo_framework_auto_description_html_method_methods` (typo in "description").
			* We found no indication this was used in public yet, so we didn't go through a deprecation process. Sorry in advance if this change affects your site.
		* `the_seo_framework_delete_cache_args`, there's no functionality left that could use this.
		* `the_seo_framework_delete_cache_{$type}`:
			* This includes `the_seo_framework_delete_cache_excluded_post_ids`, which is gone.
			* This also includes `the_seo_framework_delete_cache_sitemap`, which is now marked as deprecated.
		* `the_seo_framework_warn_homepage_global_title`, we now use multilingual plugin detection.
		* `the_seo_framework_warn_homepage_global_description`, we now use multilingual plugin detection.
		* `the_seo_framework_tell_multilingual_sitemap`, we now use multilingual plugin detection.
		* `the_seo_framework_site_options`, use WP options API instead to alter option name `'autodescription-site-settings'`.
		* `the_seo_framework_term_options`, use WP options API instead to alter term metadata name `'autodescription-term-settings'`.
		* `the_seo_framework_user_options`, use WP options API instead to alter user metadata name `'autodescription-user-settings'`.
		* `the_seo_framework_site_cache`, use WP options API instead to alter option name `'autodescription-site-cache'`.
		* `the_seo_framework_available_twitter_cards`, we couldn't make it work in the new API.
* **Action notes:**
	* **Added:**
		* `the_seo_framework_cleared_sitemap_transients`, used when sitemap transients are (probably) cleared.
	* **Deprecated:**
		* `the_seo_framework_delete_cache_sitemap`, use `the_seo_framework_cleared_sitemap_transients` instead.
* **Hook notes:**
	* Excluded IDs cache is now cleared on `wp_insert_post` and `attachment_updated`, from `save_post` and `edit_attachment` respectively.
	* `[ \tsf(), 'html_output' ]` no longer runs on `wp_head`. Instead, `[ 'The_SEO_Framework\Front\Meta\Head', 'print_wrap_and_tags' ]` is now outputted -- remaining at priority `1`.
* **JavaScript notes:**
* **CSS notes:**
	* `tsf-pt` no longer has inline RTL support, but instead supports RLT built in its file.
* **Other:**
	* Cleaned up code. Reduced function call overhead.
	* Removed capitalization in PHP methods; mainly, `_ID`. Since PHP methods are case-insensitive at runtime, this should not matter nearly any case.
	* Fixed typos in code. Props [Viktor SzÃ©pe](https://github.com/szepeviktor).
	* Refreshed `composer.json`. Props [Viktor SzÃ©pe](https://github.com/szepeviktor).
	* Improved needless defense clauses. Props [Viktor SzÃ©pe](https://github.com/szepeviktor).
	* We now try to avoid the word "home" in our code due to its ambiguity in relation to the front page and the blog page. So, we use "front" for front-page related queries, titles, etc., and "blog" otherwise.

= 4.2.8 =

This minor update makes the SEO Bar easier on the eyes. We also improved compatibility with bbPress, wpForo, and WooCommerce, and added compatibility with another thousand plugins via Advanced Query Protectionâ€™s new plugin query variable detection. We also fixed a couple of bugs, added and improved syntax detection of SEOPress and Rank Math, introduced new APIs, dusted off some code, refined tooltip placement, added Site Icon as a fallback for the sitemap title logo, and perfected support for Custom Post Types by detecting [their changed arguments](https://theseoframework.com/?p=4059).

= 4.2.7 =

This minor update brings you a revamped HTML parser and a new option for tuning its accuracy for descriptions. First-time installers are now notified when metadata can be transported from other SEO plugins, the SEO Bar recognizes syntax from Rank Math, and Advanced Query Protection blocks new SEO attacks that could tank your rankings. We also [fixed a couple of bugs](https://theseoframework.com/?p=4021).

*Psst: Check out our [Cyber Sale](https://theseoframework.com/?p=3527).*

*v4.7.2.1: Fixed syntax for PHP 7.2. Props [opicron](https://wordpress.org/support/topic/syntax-error-226/#post-16183422).*

= 4.2.6 =

This patch resolves an issue with WordPress 6.1, which queries template parts before posts are requested. This premature query causes TSF to fail in recognizing support for Custom Post Types, [preventing all meta output](https://theseoframework.com/?p=4015).

= 4.2.5 =

This minor update addresses a change in WordPress 6.0 that causes taxonomy sitemaps to crash, allows paginated deindexing to supersede forced indexing, and improves image cropping by [preserving metadata](https://theseoframework.com/?p=3929).

= 4.2.4 =

This minor update improves image processing, reducing TSF's load impact by roughly 20% when generating metadata. We also added WordPress 6.0 support for image filesizes, making social sharing [even more robust](https://theseoframework.com/?p=3903).

= 4.2.3 =

This minor update addresses a regression where the singular-archive canonical URLs always [pointed to the first page](https://theseoframework.com/?p=3858).

= 4.2.2 =

This minor update addresses a regression where the homepage canonical URL was [missing a trailing slash](https://theseoframework.com/?p=3841).

= 4.2.1 =

This minor update addresses a few regressions brought in v4.2.0; it fixes the canonical URL for paginated categories, corrects an API typo, and [rectifies a few edge cases](https://theseoframework.com/?p=3836). TSF now also supports PHP 8.1.

= 4.2.0 - Perfect =

*Come with me, and you'll be in a world of pure imagination. - [Gene Wilder, Anthony Newley, Leslie Bricusse](https://www.youtube.com/watch?v=SVi3-PrQ0pY)*

**Release highlights**

* This update brings new post-type-archive settings. You can now edit their titles, descriptions, social and visibility settings, and even add redirects on the SEO Settings page.
* Fancy a custom site title for SEO purposes only? Check out the new title settings.
* You will find that the sitemap's stylesheet now has its URLs centered; it also supports mobile devices.
* Developers can now enjoy using the new `tsf()` function -- an alias of `the_seo_framework()`.
* If you're a developer, you should also check out our perfectly tuned `memo()`. `umemo()`, and `fmemo()` [functions](https://github.com/sybrew/the-seo-framework/blob/4.2.0/inc/functions/api.php#L155-L335), which help make TSF so performant.

**Perfect**

TSF is finally what I (Sybre) envisioned it to become when I first named it "The SEO Framework": It's lightning-fast, hassle-free, and has all necessary options while giving you the best in class experience. I hope you enjoy what I believe is a perfect product!

To me, The SEO Framework is finished. Done. It's excellent. This doesn't mean its journey ends here. Now, it's time to add features *you* want. A restyled interface, migration support, custom title generation, more structured data fields, and many other community proposals are under consideration.

**A perfect tip**

This update comes with updated browser styles and scripts. Not all browsers get these for you; so, the interface might appear broken (and your "inputs" seem to be "removed"). Try a different browser, or [clear your favorite browser's cache](https://kinsta.com/knowledgebase/how-to-clear-browser-cache/#how-to-force-refresh-a-single-page). That ought to do the trick.

**Environment upgrade notes**

WordPress 5.1 through 5.4 are no longer supported. Here's why:

* [Over 66% of all WordPress sites](https://wordpress.org/about/stats/) are using WordPress v5.5 or later.
* Newer versions of WordPress are faster, more reliable, and easier to work with; for both you and us.
* Supporting past versions takes time away that's better used implementing new features.

PHP 5.6 through 7.1 are no longer supported. Here's why:

* [Almost 80% of all WordPress sites](https://wordpress.org/about/stats/) are using PHP v7.2 or later.
* Newer versions of PHP are faster and more secure. For us, they're also easier to work with.
* Again, supporting past versions takes time away that's better used implementing new features.

**Support the development**

We hope you'll love this update as much as we do. Please consider supporting us by sharing [a fantastic review](https://wordpress.org/support/plugin/autodescription/reviews/#new-topic-0), [get a license](https://theseoframework.com/pricing/), or do your friends and colleagues a favor by installing TSF for them.

**Detailed log**

Practice makes perfect. So does [working 16 hours a day](https://theseoframework.com/?p=3815#detailed).

= Full changelog =

* **You can find the full changelog [here](https://theseoframework.com/?cat=2).**

== Upgrade Notice ==

= 4.1.0 =
The v4.1.0 update brings a major upgrade. Make a backup of your database before updating. WordPress v5.1 (or higher) is now required. Downgrading to v4.0.7 is possible without side effects.

= 4.0.0 =
The v4.0.0 update brings a major upgrade. Make a backup of your database before updating. WordPress v4.9 (or higher) and PHP v5.6 (or higher) are now required. If you use the Extension Manager, update it to v2.1.0 (or higher) before updating this plugin. Downgrading to v3.2.4 is possible, however with the caveat that the homepage title may flip its output order back.

= 3.1.1 =
This is a major upgrade. Make a backup of your database before upgrading. WordPress v4.6 (or greater) and PHP v5.4 (or greater) are now required. If you use the Extension Manager, update it to v1.5.2 (or greater) before upgrading this plugin. Downgrading to v3.0.6 possible.

= 3.0.0 =
A major update. Make a backup of your database before upgrading.

== Other Notes ==
